{"ast":null,"code":"import{database}from'../firebase';// 네 firebase.js에서 export한 database\nimport{ref,push,set,get,child,remove}from'firebase/database';// ✅ 방 생성\nexport async function createGameRoomInFirebase(gameName,playerName){try{const roomsRef=ref(database,'rooms');// rooms 경로로 ref 만들고\nconst newRoomRef=push(roomsRef);// rooms 하위에 새로운 키 생성\nconst roomData={name:gameName,host:playerName,players:[{id:'host',// 나중엔 유저 고유 ID로 대체\nname:playerName,isHost:true,isReady:false}],createdAt:Date.now()};await set(newRoomRef,roomData);// 그 새 키에 데이터 저장\nconsole.log('Firebase 방 생성 완료:',newRoomRef.key);return newRoomRef.key;// 생성된 방 ID 반환\n}catch(error){console.error('Firebase 방 생성 오류:',error);throw error;}}// ✅ 방 목록 불러오기\nexport async function fetchGameRoomsFromFirebase(){try{const roomsRef=ref(database,'rooms');// rooms 전체 참조\nconst snapshot=await get(roomsRef);// rooms 데이터 가져오기\nif(snapshot.exists()){return snapshot.val();// 데이터 있으면 반환\n}else{return{};// 없으면 빈 객체 반환\n}}catch(error){console.error('Firebase 방 목록 불러오기 오류:',error);throw error;}}","map":{"version":3,"names":["database","ref","push","set","get","child","remove","createGameRoomInFirebase","gameName","playerName","roomsRef","newRoomRef","roomData","name","host","players","id","isHost","isReady","createdAt","Date","now","console","log","key","error","fetchGameRoomsFromFirebase","snapshot","exists","val"],"sources":["C:/Users/USER/Desktop/ssssss/frontend/src/services/firebaseService.js"],"sourcesContent":["import { database } from '../firebase';  // 네 firebase.js에서 export한 database\r\nimport { ref, push, set, get, child, remove } from 'firebase/database';\r\n\r\n\r\n// ✅ 방 생성\r\nexport async function createGameRoomInFirebase(gameName, playerName) {\r\n  try {\r\n    const roomsRef = ref(database, 'rooms');        // rooms 경로로 ref 만들고\r\n    const newRoomRef = push(roomsRef);               // rooms 하위에 새로운 키 생성\r\n    const roomData = {\r\n      name: gameName,\r\n      host: playerName,\r\n      players: [\r\n        {\r\n          id: 'host', // 나중엔 유저 고유 ID로 대체\r\n          name: playerName,\r\n          isHost: true,\r\n          isReady: false\r\n        }\r\n      ],\r\n      \r\n      createdAt: Date.now()\r\n    };\r\n    await set(newRoomRef, roomData);                 // 그 새 키에 데이터 저장\r\n    console.log('Firebase 방 생성 완료:', newRoomRef.key);\r\n    return newRoomRef.key;                           // 생성된 방 ID 반환\r\n  } catch (error) {\r\n    console.error('Firebase 방 생성 오류:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n// ✅ 방 목록 불러오기\r\nexport async function fetchGameRoomsFromFirebase() {\r\n  try {\r\n    const roomsRef = ref(database, 'rooms');         // rooms 전체 참조\r\n    const snapshot = await get(roomsRef);             // rooms 데이터 가져오기\r\n    if (snapshot.exists()) {\r\n      return snapshot.val();                         // 데이터 있으면 반환\r\n    } else {\r\n      return {};                                     // 없으면 빈 객체 반환\r\n    }\r\n  } catch (error) {\r\n    console.error('Firebase 방 목록 불러오기 오류:', error);\r\n    throw error;\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,aAAa,CAAG;AACzC,OAASC,GAAG,CAAEC,IAAI,CAAEC,GAAG,CAAEC,GAAG,CAAEC,KAAK,CAAEC,MAAM,KAAQ,mBAAmB,CAGtE;AACA,MAAO,eAAe,CAAAC,wBAAwBA,CAACC,QAAQ,CAAEC,UAAU,CAAE,CACnE,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAGT,GAAG,CAACD,QAAQ,CAAE,OAAO,CAAC,CAAS;AAChD,KAAM,CAAAW,UAAU,CAAGT,IAAI,CAACQ,QAAQ,CAAC,CAAgB;AACjD,KAAM,CAAAE,QAAQ,CAAG,CACfC,IAAI,CAAEL,QAAQ,CACdM,IAAI,CAAEL,UAAU,CAChBM,OAAO,CAAE,CACP,CACEC,EAAE,CAAE,MAAM,CAAE;AACZH,IAAI,CAAEJ,UAAU,CAChBQ,MAAM,CAAE,IAAI,CACZC,OAAO,CAAE,KACX,CAAC,CACF,CAEDC,SAAS,CAAEC,IAAI,CAACC,GAAG,CAAC,CACtB,CAAC,CACD,KAAM,CAAAlB,GAAG,CAACQ,UAAU,CAAEC,QAAQ,CAAC,CAAkB;AACjDU,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEZ,UAAU,CAACa,GAAG,CAAC,CAChD,MAAO,CAAAb,UAAU,CAACa,GAAG,CAA4B;AACnD,CAAE,MAAOC,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,mBAAmB,CAAEA,KAAK,CAAC,CACzC,KAAM,CAAAA,KAAK,CACb,CACF,CAEA;AACA,MAAO,eAAe,CAAAC,0BAA0BA,CAAA,CAAG,CACjD,GAAI,CACF,KAAM,CAAAhB,QAAQ,CAAGT,GAAG,CAACD,QAAQ,CAAE,OAAO,CAAC,CAAU;AACjD,KAAM,CAAA2B,QAAQ,CAAG,KAAM,CAAAvB,GAAG,CAACM,QAAQ,CAAC,CAAc;AAClD,GAAIiB,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAE,CACrB,MAAO,CAAAD,QAAQ,CAACE,GAAG,CAAC,CAAC,CAA0B;AACjD,CAAC,IAAM,CACL,MAAO,CAAC,CAAC,CAAsC;AACjD,CACF,CAAE,MAAOJ,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9C,KAAM,CAAAA,KAAK,CACb,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}