/*! For license information please see main.d81e95fd.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=_.prototype=new v;b.constructor=_,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,C={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,i)&&!x.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:C.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+T(l,0):s,w(o)?(i="",null!=e&&(i=e.replace(N,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(N,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+T(a=e[c],c);l+=I(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,i,u=s+T(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},O={transition:null},D={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:O,ReactCurrentOwner:C};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,O(k);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(E),E=-1),p=!0;var s=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(w,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,x=!1,S=null,E=-1,N=5,T=-1;function I(){return!(t.unstable_now()-T<N)}function P(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?C():(x=!1,S=null)}}else x=!1}if("function"===typeof _)C=function(){_(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,j=R.port2;R.port1.onmessage=P,C=function(){j.postMessage(null)}}else C=function(){y(P,0)};function O(e){S=e,x||(x=!0,C())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(E),E=-1):g=!0,D(w,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(k))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var A,M=Object.assign;function F(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case k:return"Portal";case S:return"Profiler";case x:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function se(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ce=null,xe=null;function Se(e){if(e=_i(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Ee(e){Ce?xe?xe.push(e):xe=[e]:Ce=e}function Ne(){if(Ce){var e=Ce,t=xe;if(xe=Ce=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Te(e,t,n)}finally{Pe=!1,(null!==Ce||null!==xe)&&(Ie(),Ne())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Le(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ae=!1,Me=null,Fe=!1,ze=null,Ue={onError:function(e){Ae=!0,Me=e}};function Be(e,t,n,r,i,s,o,a,l){Ae=!1,Me=null,Le.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(qe(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $e(i),e;if(o===r)return $e(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,Ct,xt,St,Et=!1,Nt=[],Tt=null,It=null,Pt=null,Rt=new Map,jt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function At(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Et=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),null!==Pt&&Ft(Pt)&&(Pt=null),Rt.forEach(zt),jt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Bt(t,e)}if(0<Nt.length){Bt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==It&&Bt(It,e),null!==Pt&&Bt(Pt,e),Rt.forEach(t),jt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var Ht=b.ReactCurrentBatchConfig,$t=!0;function Wt(e,t,n,r){var i=_t,s=Ht.transition;Ht.transition=null;try{_t=1,Qt(e,t,n,r)}finally{_t=i,Ht.transition=s}}function Vt(e,t,n,r){var i=_t,s=Ht.transition;Ht.transition=null;try{_t=4,Qt(e,t,n,r)}finally{_t=i,Ht.transition=s}}function Qt(e,t,n,r){if($t){var i=Gt(e,t,n,r);if(null===i)$r(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=At(Tt,e,t,n,r,i),!0;case"dragenter":return It=At(It,e,t,n,r,i),!0;case"mouseover":return Pt=At(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,At(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jt.set(s,At(jt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=_i(i);if(null!==s&&wt(s),null===(s=Gt(e,t,n,r))&&$r(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Kt=null;function Gt(e,t,n,r){if(Kt=null,null!==(e=vi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(vn),bn=sn(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return xn}var En=M({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(En),Tn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=sn(Rn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var An=u&&"TextEvent"in window&&!Ln,Mn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Qn=null;function Kn(e){Fr(e,0)}function Gn(e){if(Q(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Qn=Vn=null)}function nr(e){if("value"===e.propertyName&&Gn(Qn)){var t=[];Wn(t,Qn,e,we(e)),Re(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Qn)}function sr(e,t){if("click"===e)return Gn(t)}function or(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Vr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Cr={},xr={};function Sr(e){if(Cr[e])return Cr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Cr[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Er=Sr("animationend"),Nr=Sr("animationiteration"),Tr=Sr("animationstart"),Ir=Sr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Pr.set(e,t),l(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];jr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}jr(Er,"onAnimationEnd"),jr(Nr,"onAnimationIteration"),jr(Tr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Be.apply(this,arguments),Ae){if(!Ae)throw Error(s(198));var u=Me;Ae=!1,Me=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,c),s=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ar.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Vt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=s,i=we(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Er:case Nr:case Tr:l=yn;break;case Ir:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=je(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Qr(f))p++;for(f=0,m=d;m;m=Qr(m))f++;for(;0<p-f;)u=Qr(u),p--;for(;0<f-p;)d=Qr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Qr(u),d=Qr(d)}u=null}else u=null;null!==l&&Kr(o,a,l,u,!1),null!==c&&null!==h&&Kr(o,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if($n(a))if(Xn)g=or;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":($n(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else qn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==_?"onCompositionEnd"===_&&qn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(y=Vr(r,_)).length&&(_=new bn(_,e,null,n,i),o.push({event:_,listeners:y}),v?_.data=v:null!==(v=Bn(n))&&(_.data=v))),(v=An?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=je(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=je(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=je(n,s))&&o.unshift(Wr(n,l,a)):i||null!=(l=je(n,s))&&o.push(Wr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var ki=[],Ci=-1;function xi(e){return{current:e}}function Si(e){0>Ci||(e.current=ki[Ci],ki[Ci]=null,Ci--)}function Ei(e,t){Ci++,ki[Ci]=e.current,e.current=t}var Ni={},Ti=xi(Ni),Ii=xi(!1),Pi=Ni;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ii),Si(Ti)}function Di(e,t,n){if(Ti.current!==Ni)throw Error(s(168));Ei(Ti,t),Ei(Ii,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return M({},n,r)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,Pi=Ti.current,Ei(Ti,e),Ei(Ii,Ii.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Si(Ii),Si(Ti),Ei(Ti,e)):Si(Ii),Ei(Ii,n)}var Fi=null,zi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Qe(Ze,qi),i}finally{_t=t,Ui=!1}}return null}var Hi=[],$i=0,Wi=null,Vi=0,Qi=[],Ki=0,Gi=null,Yi=1,Xi="";function Ji(e,t){Hi[$i++]=Vi,Hi[$i++]=Wi,Wi=e,Vi=t}function Zi(e,t,n){Qi[Ki++]=Yi,Qi[Ki++]=Xi,Qi[Ki++]=Gi,Gi=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=Hi[--$i],Hi[$i]=null,Vi=Hi[--$i],Hi[$i]=null;for(;e===Gi;)Gi=Qi[--Ki],Qi[Ki]=null,Xi=Qi[--Ki],Qi[Ki]=null,Yi=Qi[--Ki],Qi[Ki]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function _s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===C?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===j&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case k:return(t=Fc(t,e.mode,n)).return=e,t;case j:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case j:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),is&&Ji(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var _=f(i,m,v.value,c);if(null===_){null===m&&(m=y);break}e&&m&&null===_.alternate&&t(i,m),a=o(_,a,g),null===h?u=_:h.sibling=_,h=_,m=y}if(v.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return is&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===C){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&vs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===C?((s=Lc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case k:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(o,r.mode,l)).return=r,r=s}return a(r);case j:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(L(o))return g(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Mc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var bs=_s(!0),ws=_s(!1),ks=xi(null),Cs=null,xs=null,Ss=null;function Es(){Ss=xs=Cs=null}function Ns(e){var t=ks.current;Si(ks),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){Cs=e,Ss=xs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===xs){if(null===Cs)throw Error(s(308));xs=e,Cs.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var Rs=null;function js(e){null===Rs?Rs=[e]:Rs.push(e)}function Os(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,js(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function As(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,js(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Al|=o,e.lanes=o,e.memoizedState=h}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var $s={},Ws=xi($s),Vs=xi($s),Qs=xi($s);function Ks(e){if(e===$s)throw Error(s(174));return e}function Gs(e,t){switch(Ei(Qs,t),Ei(Vs,e),Ei(Ws,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ws),Ei(Ws,t)}function Ys(){Si(Ws),Si(Vs),Si(Qs)}function Xs(e){Ks(Qs.current);var t=Ks(Ws.current),n=le(t,e.type);t!==n&&(Ei(Vs,e),Ei(Ws,n))}function Js(e){Vs.current===e&&(Si(Ws),Si(Vs))}var Zs=xi(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(uo)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function _o(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,oo.lanes|=h,Al|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Al|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ko(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(_a=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function xo(e,t){var n=oo,r=_o(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,_a=!0),r=r.queue,Ao(No.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ro(9,Eo.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(s(349));0!==(30&so)||So(n,t,i)}return i}function So(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Eo(e,t,n,r){t.value=n,t.getSnapshot=r,To(t)&&Io(e)}function No(e,t,n){return n((function(){To(t)&&Io(e)}))}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Io(e){var t=Ds(e,1);null!==t&&nc(t,e,1,-1)}function Po(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return _o().memoizedState}function Oo(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=_o();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ro(t,n,s,r))}oo.flags|=e,i.memoizedState=Ro(1|t,n,s,r)}function Lo(e,t){return Oo(8390656,8,e,t)}function Ao(e,t){return Do(2048,8,e,t)}function Mo(e,t){return Do(4,2,e,t)}function Fo(e,t){return Do(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,zo.bind(null,t,e),n)}function Bo(){}function qo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Al|=n,e.baseState=!0),t)}function Wo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{_t=n,io.transition=r}}function Vo(){return _o().memoizedState}function Qo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Go(e))Yo(t,n);else if(null!==(n=Os(e,t,n,r))){nc(n,e,r,ec()),Xo(n,t,r)}}function Ko(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Go(e))Yo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,js(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Os(e,t,i,r))&&(nc(n,e,r,i=ec()),Xo(n,t,r))}}function Go(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:Ps,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ps,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Po,useDebugValue:Bo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Wo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Il)throw Error(s(349));0!==(30&so)||So(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(No.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,Eo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Il.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ps,useCallback:qo,useContext:Ps,useEffect:Ao,useImperativeHandle:Uo,useInsertionEffect:Mo,useLayoutEffect:Fo,useMemo:Ho,useReducer:wo,useRef:jo,useState:function(){return wo(bo)},useDebugValue:Bo,useDeferredValue:function(e){return $o(_o(),ao.memoizedState,e)},useTransition:function(){return[wo(bo)[0],_o().memoizedState]},useMutableSource:Co,useSyncExternalStore:xo,useId:Vo,unstable_isNewReconciler:!1},ta={readContext:Ps,useCallback:qo,useContext:Ps,useEffect:Ao,useImperativeHandle:Uo,useInsertionEffect:Mo,useLayoutEffect:Fo,useMemo:Ho,useReducer:ko,useRef:jo,useState:function(){return ko(bo)},useDebugValue:Bo,useDeferredValue:function(e){var t=_o();return null===ao?t.memoizedState=e:$o(t,ao.memoizedState,e)},useTransition:function(){return[ko(bo)[0],_o().memoizedState]},useMutableSource:Co,useSyncExternalStore:xo,useId:Vo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zs(e,i,r))&&(nc(t,e,r,n),Us(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ni,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=ji(t)?Pi:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ni),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},As(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=ji(t)?Pi:Ti.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),qs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Wl=r),ha(0,t)},n}function pa(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=b.ReactCurrentOwner,_a=!1;function ba(e,t,n,r){t.child=null===e?ws(t,null,n,r):bs(t,e.child,n,r)}function wa(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=go(e,t,n,r,s,i),n=yo(),null===e||_a?(is&&n&&es(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$a(e,t,i))}function ka(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||jc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ca(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return $a(e,t,i)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,$a(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return Ea(e,t,n,r,i)}function xa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ol,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ol,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ei(Ol,jl),jl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ei(Ol,jl),jl|=r;return ba(e,t,i,n),t.child}function Sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,i){var s=ji(n)?Pi:Ti.current;return s=Ri(t,s),Is(t,i),n=go(e,t,n,r,s,i),r=yo(),null===e||_a?(is&&r&&es(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$a(e,t,i))}function Na(e,t,n,r,i){if(ji(n)){var s=!0;Ai(t)}else s=!1;if(Is(t,i),null===t.stateNode)Ha(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Ri(t,c=ji(n)?Pi:Ti.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Ls=!1;var d=t.memoizedState;o.state=d,qs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ii.current||Ls?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Ls||sa(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ms(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Ri(t,l=ji(n)?Pi:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Ls=!1,d=t.memoizedState,o.state=d,qs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ii.current||Ls?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Ls||sa(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,s,i)}function Ta(e,t,n,r,i,s){Sa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),$a(e,t,s);r=t.stateNode,va.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,a,s)):ba(e,t,a,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Gs(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,ba(e,t,n,r),t.child}var Ra,ja,Oa,Da,La={dehydrated:null,treeContext:null,retryLane:0};function Aa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Ac(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Aa(n),t.memoizedState=La,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ac({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,a),t.child.memoizedState=Aa(a),t.memoizedState=La,o);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ua(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Il)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ds(e,i),nc(r,e,i,-1))}return mc(),za(e,t,a,r=ua(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Qi[Ki++]=Yi,Qi[Ki++]=Xi,Qi[Ki++]=Gi,Yi=e.id,Xi=e.overflow,Gi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Oc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Aa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Oc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Ac({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $a(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Al|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Va(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Va(t),null;case 1:case 17:return ji(t.type)&&Oi(),Va(t),null;case 3:return r=t.stateNode,Ys(),Si(Ii),Si(Ti),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),ja(e,t),Va(t),null;case 5:Js(t);var i=Ks(Qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Va(t),null}if(e=Ks(Ws.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":V(r),Z(r,o,!0);break;case"textarea":V(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Y(e,r),i=G(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&zr("scroll",e):null!=u&&_(e,o,u,l))}switch(n){case"input":V(e),Z(e,r,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Va(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ks(Qs.current),Ks(Ws.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Va(t),null;case 13:if(Si(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Va(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Va(t),null);case 4:return Ys(),ja(e,t),null===e&&qr(t.stateNode.containerInfo),Va(t),null;case 10:return Ns(t.type._context),Va(t),null;case 19:if(Si(Zs),null===(o=t.memoizedState))return Va(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Wa(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Wa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>ql&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Va(t),null}else 2*Xe()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,Ei(Zs,r?1&n|2:1&n),t):(Va(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Va(t),6&t.subtreeFlags&&(t.flags|=8192)):Va(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ka(e,t){switch(ts(t),t.tag){case 1:return ji(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Si(Ii),Si(Ti),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Si(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(Zs),null;case 4:return Ys(),null;case 10:return Ns(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ja=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ks(Ws.current);var s,o=null;switch(n){case"input":i=G(e,i),r=G(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ga=!1,Ya=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){xc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),qt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,dl(e,t,n),Ya=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(o,a,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){xc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){xc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){xc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){xc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),_e(l,a);var u=_e(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):_(i,h,d,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){xc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){xc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){xc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||h,ml(t,e),Ya=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Ja=p):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){xc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){xc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){xc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ja=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ga;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Ga;var c=Ya;if(Ga=o,(Ya=l)&&!c)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?kl(i):null!==l?(l.return=o,Ja=l):kl(i);for(;null!==s;)Ja=s,_l(s,t,n),s=s.sibling;Ja=i,Ga=a,Ya=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):bl(e)}}function bl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(s(163))}Ya||512&t.flags&&il(t)}catch(f){xc(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function kl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){xc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){xc(t,i,l)}}var s=t.return;try{il(t)}catch(l){xc(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){xc(t,o,l)}}}catch(l){xc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Cl,xl=Math.ceil,Sl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,Nl=b.ReactCurrentBatchConfig,Tl=0,Il=null,Pl=null,Rl=0,jl=0,Ol=xi(0),Dl=0,Ll=null,Al=0,Ml=0,Fl=0,zl=null,Ul=null,Bl=0,ql=1/0,Hl=null,$l=!1,Wl=null,Vl=null,Ql=!1,Kl=null,Gl=0,Yl=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Tl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Rl?Rl&-Rl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(s(185));yt(e,n,r),0!==(2&Tl)&&e===Il||(e===Il&&(0===(2&Tl)&&(Ml|=n),4===Dl&&ac(e,Rl)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(ql=Xe()+500,zi&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Il?Rl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zi=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),oi((function(){0===(6&Tl)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=dt(e,e===Il?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tl;Tl|=2;var o=pc();for(Il===e&&Rl===t||(Hl=null,ql=Xe()+500,dc(e,t));;)try{vc();break}catch(l){fc(e,l)}Es(),Sl.current=o,Tl=i,null!==Pl?t=0:(Il=null,Rl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ll,dc(e,0),ac(e,r),rc(e,Xe()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=sc(e,o))),1===t))throw n=Ll,dc(e,0),ac(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ul,Hl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Ul,Hl),t);break}wc(e,Ul,Hl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Ul,Hl),r);break}wc(e,Ul,Hl);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&oc(t)),e}function oc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ac(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(s(327));kc();var t=dt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ll,dc(e,0),ac(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,Hl),rc(e,Xe()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(ql=Xe()+500,zi&&qi())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&kc();var t=Tl;Tl|=1;var n=Nl.transition,r=_t;try{if(Nl.transition=null,_t=1,e)return e()}finally{_t=r,Nl.transition=n,0===(6&(Tl=t))&&qi()}}function hc(){jl=Ol.current,Si(Ol)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Ys(),Si(Ii),Si(Ti),no();break;case 5:Js(r);break;case 4:Ys();break;case 13:case 19:Si(Zs);break;case 10:Ns(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Il=e,Pl=e=Oc(e.current,null),Rl=jl=t,Dl=0,Ll=null,Fl=Ml=Al=0,Ul=zl=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(r=(n=Rs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Rs=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(Es(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,El.current=null,null===n||null===n.return){Dl=1,Ll=t,Pl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(o,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),ps(ca(c,l));break e}}o=c=ca(c,l),4!==Dl&&(Dl=2),null===zl?zl=[o]:zl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,fa(0,c,t));break e;case 1:l=c;var v=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Vl||!Vl.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Jo,null===e?Jo:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Il||0===(268435455&Al)&&0===(268435455&Ml)||ac(Il,Rl)}function gc(e,t){var n=Tl;Tl|=2;var r=pc();for(Il===e&&Rl===t||(Hl=null,dc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Es(),Tl=n,Sl.current=r,null!==Pl)throw Error(s(261));return Il=null,Rl=0,Dl}function yc(){for(;null!==Pl;)_c(Pl)}function vc(){for(;null!==Pl&&!Ge();)_c(Pl)}function _c(e){var t=Cl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?bc(e):Pl=t,El.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,jl)))return void(Pl=n)}else{if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Dl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=_t,i=Nl.transition;try{Nl.transition=null,_t=1,function(e,t,n,r){do{kc()}while(null!==Kl);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Il&&(Pl=Il=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ic(tt,(function(){return kc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Nl.transition,Nl.transition=null;var a=_t;_t=1;var l=Tl;Tl|=4,El.current=null,function(e,t){if(ei=$t,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},$t=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){xc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),$t=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),Tl=l,_t=a,Nl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Kl=e,Gl=i),o=e.pendingLanes,0===o&&(Vl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($l)throw $l=!1,e=Wl,Wl=null,e;0!==(1&Gl)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,qi()}(e,t,n,r)}finally{Nl.transition=i,_t=r}return null}function kc(){if(null!==Kl){var e=bt(Gl),t=Nl.transition,n=_t;try{if(Nl.transition=null,_t=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Gl=0,0!==(6&Tl))throw Error(s(331));var i=Tl;for(Tl|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(sl(h),h===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ja=v;break e}Ja=o.return}}var _=e.current;for(Ja=_;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else e:for(a=_;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){xc(l,l.return,k)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(Tl=i,qi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{_t=n,Nl.transition=t}}return!1}function Cc(e,t,n){e=zs(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function xc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=zs(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Rl&n)===n&&(4===Dl||3===Dl&&(130023424&Rl)===Rl&&500>Xe()-Bl?dc(e,0):Fl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ds(e,t))&&(yt(e,t,n),rc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ec(e,n)}function Ic(e,t){return Qe(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)jc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Lc(n.children,i,o,t);case x:a=8,i|=8;break;case S:return(e=Rc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case I:return(e=Rc(13,n,t,i)).elementType=I,e.lanes=o,e;case P:return(e=Rc(19,n,t,i)).elementType=P,e.lanes=o,e;case O:return Ac(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case N:a=9;break e;case T:a=11;break e;case R:a=14;break e;case j:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Ac(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,o,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},As(s),e}function Bc(e){if(!e)return Ni;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(ji(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=Uc(n,r,!0,e,0,s,0,a,l)).context=Bc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,s=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(i,t,o))&&(nc(e,i,o,s),Us(e,i,o)),o}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),fs();break;case 5:Xs(t);break;case 1:ji(t.type)&&Ai(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ks,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(Ei(Zs,1&Zs.current),null!==(e=$a(e,t,n))?e.sibling:null);Ei(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return $a(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,is&&0!==(1048576&t.flags)&&Zi(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Ri(t,Ti.current);Is(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(o=!0,Ai(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,As(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ta(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=Na(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Na(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ia(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ms(e,t),qs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=$a(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Sa(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Ma(e,t,n);case 4:return Gs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ei(ks,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ii.current){t=$a(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ts(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ts(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=Ps(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),ka(e,t,r,i=na(r.type,i),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ha(e,t),t.tag=1,ji(r)?(e=!0,Ai(t)):e=!1,Is(t,n),oa(t,r,i),la(t,r,i,n),Ta(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return xa(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=$c(o);a.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=$c(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=$c(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,qr(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return $c(o)}Gc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Gc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pi]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Xe()),0===(6&Tl)&&(ql=Xe()+500,qi()))}break;case 13:uc((function(){var t=Ds(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Vc(e,1)}},kt=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tc(e),n=Ds(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},xt=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));Q(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[_i,bi,wi,Ee,Ne,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{Decoder:()=>yc,Encoder:()=>mc,PacketType:()=>pc,protocol:()=>fc});var i,s=n(43),o=n.t(s,2),a=n(391);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,h=i.Pop,m=null,g=y();function y(){return(a.state||{idx:null}).idx}function v(){h=i.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:h,location:b.location,delta:t})}function _(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(l({},a.state,{idx:g}),""));let b={get action(){return h},get location(){return e(s,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(c,v),m=e,()=>{s.removeEventListener(c,v),m=null}},createHref:e=>t(s,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h=i.Push;let r=f(b.location,e,t);n&&n(r,e),g=y()+1;let l=d(r,g),c=b.createHref(r);try{a.pushState(l,"",c)}catch(Yn){if(Yn instanceof DOMException&&"DataCloneError"===Yn.name)throw Yn;s.location.assign(c)}o&&m&&m({action:h,location:b.location,delta:1})},replace:function(e,t){h=i.Replace;let r=f(b.location,e,t);n&&n(r,e),g=y();let s=d(r,g),l=b.createHref(r);a.replaceState(s,"",l),o&&m&&m({action:h,location:b.location,delta:0})},go:e=>a.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),_(e,t,n,!1)}function _(e,t,n,r){let i=O(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=j(i);o=P(s[a],e,r)}return o}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=F([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),b(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:I(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=w(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const k=/^:[\w-]+$/,C=3,x=2,S=1,E=10,N=-2,T=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=N),t&&(r+=x),n.filter((e=>!T(e))).reduce(((e,t)=>e+(k.test(t)?C:""===t?S:E)),r)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:F([s,u.pathname]),pathnameBase:z(F([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=F([s,u.pathnameBase]))}return o}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function j(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(Yn){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Yn+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function A(e,t){let n=L(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=l({},e),u(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:B(i)}}(i,s),h=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],$=(new Set(H),["get",...H]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const V=s.createContext(null);const Q=s.createContext(null);const K=s.createContext(null);const G=s.createContext(null);const Y=s.createContext({outlet:null,matches:[],isDataRoute:!1});const X=s.createContext(null);function J(){return null!=s.useContext(G)}function Z(){return J()||u(!1),s.useContext(G).location}function ee(e){s.useContext(K).static||s.useLayoutEffect(e)}function te(){let{isDataRoute:e}=s.useContext(Y);return e?function(){let{router:e}=he(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=s.useRef(!1);return ee((()=>{n.current=!0})),s.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t])}():function(){J()||u(!1);let e=s.useContext(V),{basename:t,future:n,navigator:r}=s.useContext(K),{matches:i}=s.useContext(Y),{pathname:o}=Z(),a=JSON.stringify(A(i,n.v7_relativeSplatPath)),l=s.useRef(!1);return ee((()=>{l.current=!0})),s.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=M(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,a,o,e])}()}function ne(){let{matches:e}=s.useContext(Y),t=e[e.length-1];return t?t.params:{}}function re(e,t,n,r){J()||u(!1);let{navigator:o,static:a}=s.useContext(K),{matches:l}=s.useContext(Y),c=l[l.length-1],h=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=Z();if(t){var g;let e="string"===typeof t?m(t):t;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||u(!1),f=e}else f=p;let y=f.pathname||"/",_=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!a&&n&&n.matches&&n.matches.length>0?n.matches:v(e,{pathname:_});let w=le(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:F([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:F([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&w?s.createElement(G.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:i.Pop}},w):w}function ie(){let e=function(){var e;let t=s.useContext(X),n=de(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,null)}const se=s.createElement(ie,null);class oe extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(Y.Provider,{value:this.props.routeContext},s.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(V);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(Y.Provider,{value:t},r)}function le(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<a.length;s++){let e=a[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=s),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,r,i)=>{let o,u=!1,d=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||se,c&&(h<0&&0===i?(p="route-fallback",!1||pe[p]||(pe[p]=!0),u=!0,f=null):h===i&&(u=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),g=()=>{let t;return t=o?d:u?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(ae,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(oe,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function he(e){let t=s.useContext(V);return t||u(!1),t}function de(e){let t=s.useContext(Q);return t||u(!1),t}function fe(e){let t=function(){let e=s.useContext(Y);return e||u(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ge(e){u(!1)}function ye(e){let{basename:t="/",children:n=null,location:r,navigationType:o=i.Pop,navigator:a,static:l=!1,future:c}=e;J()&&u(!1);let h=t.replace(/^\/*/,"/"),d=s.useMemo((()=>({basename:h,navigator:a,static:l,future:W({v7_relativeSplatPath:!1},c)})),[h,c,a,l]);"string"===typeof r&&(r=m(r));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:v="default"}=r,_=s.useMemo((()=>{let e=O(f,h);return null==e?null:{location:{pathname:e,search:p,hash:g,state:y,key:v},navigationType:o}}),[h,f,p,g,y,v,o]);return null==_?null:s.createElement(K.Provider,{value:d},s.createElement(G.Provider,{children:n,value:_}))}function ve(e){let{children:t,location:n}=e;return re(_e(t),n)}new Promise((()=>{}));s.Component;function _e(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,((e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,_e(e.props.children,i));e.type!==ge&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=_e(e.props.children,i)),n.push(o)})),n}const be=(0,s.createContext)({gameState:{isConnected:!1,playerId:null,playerName:"",gameId:null,players:[],currentRound:0,animal:null,location:null,gameStatus:"waiting",messages:[]},setGameState:()=>{}});var we=n(579);const ke=()=>{const[e,t]=(0,s.useState)(""),{gameState:n,setGameState:r}=(0,s.useContext)(be),i=te();return(0,we.jsxs)("div",{className:"home-container",children:[(0,we.jsx)("div",{className:"home-header",children:(0,we.jsxs)("div",{className:"logo-container",children:[(0,we.jsx)("div",{className:"logo-icon"}),(0,we.jsx)("h1",{className:"game-title",children:"\uba39\uc774\uc0ac\uc2ac \uac8c\uc784"})]})}),(0,we.jsxs)("div",{className:"home-content",children:[(0,we.jsx)("div",{className:"game-intro card slide-in-up",children:(0,we.jsxs)("div",{className:"game-logo",children:[(0,we.jsxs)("div",{className:"food-chain-pyramid",children:[(0,we.jsx)("div",{className:"tier tier-1",children:(0,we.jsx)("div",{className:"animal lion",children:"\uc0ac\uc790"})}),(0,we.jsxs)("div",{className:"tier tier-2",children:[(0,we.jsx)("div",{className:"animal crocodile",children:"\uc545\uc5b4"}),(0,we.jsx)("div",{className:"animal eagle",children:"\ub3c5\uc218\ub9ac"})]}),(0,we.jsx)("div",{className:"tier tier-3",children:(0,we.jsx)("div",{className:"animal hyena",children:"\ud558\uc774\uc5d0\ub098"})}),(0,we.jsxs)("div",{className:"tier tier-4",children:[(0,we.jsx)("div",{className:"animal snake",children:"\ubc40"}),(0,we.jsx)("div",{className:"animal chameleon",children:"\uce74\uba5c\ub808\uc628"}),(0,we.jsx)("div",{className:"animal crow",children:"\uae4c\ub9c8\uadc0"}),(0,we.jsx)("div",{className:"animal plover",children:"\uc545\uc5b4\uc0c8"})]}),(0,we.jsxs)("div",{className:"tier tier-5",children:[(0,we.jsx)("div",{className:"animal deer",children:"\uc0ac\uc2b4"}),(0,we.jsx)("div",{className:"animal otter",children:"\uc218\ub2ec"}),(0,we.jsx)("div",{className:"animal duck",children:"\uccad\ub465\uc624\ub9ac"}),(0,we.jsx)("div",{className:"animal rabbit",children:"\ud1a0\ub07c"}),(0,we.jsx)("div",{className:"animal mouse",children:"\uc950"})]})]}),(0,we.jsxs)("div",{className:"game-tagline",children:[(0,we.jsx)("h2",{children:"\uc0dd\uc874\uc744 \uc704\ud55c \uc804\ub7b5\uc801 \uc228\ubc14\uaf2d\uc9c8"}),(0,we.jsx)("p",{children:"\uba39\uac70\ub098 \uba39\ud788\uac70\ub098, \ub2f9\uc2e0\uc758 \uc120\ud0dd\uc774 \uc0dd\uc874\uc744 \uacb0\uc815\ud569\ub2c8\ub2e4"})]})]})}),(0,we.jsxs)("div",{className:"home-main-content",children:[(0,we.jsxs)("div",{className:"login-form card slide-in-up",children:[(0,we.jsx)("h2",{children:"\uac8c\uc784 \ucc38\uac00\ud558\uae30"}),(0,we.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e.trim()&&(r({...n,playerName:e.trim()}),i("/lobby"))},children:[(0,we.jsxs)("div",{className:"form-group",children:[(0,we.jsx)("label",{htmlFor:"playerName",children:"\ub2c9\ub124\uc784"}),(0,we.jsx)("input",{type:"text",id:"playerName",value:e,onChange:e=>{t(e.target.value)},placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694",required:!0})]}),(0,we.jsx)("button",{type:"submit",className:"primary join-button",children:"\ub85c\ube44 \uc785\uc7a5\ud558\uae30"})]})]}),(0,we.jsxs)("div",{className:"game-rules card slide-in-up",children:[(0,we.jsx)("h2",{children:"\uac8c\uc784 \uaddc\uce59"}),(0,we.jsxs)("div",{className:"rules-content",children:[(0,we.jsx)("div",{className:"rules-intro",children:(0,we.jsxs)("p",{children:[(0,we.jsx)("strong",{children:"\uba39\uc774\uc0ac\uc2ac \uac8c\uc784"}),"\uc740 \ub3d9\ubb3c \uacc4\uce35 \uad6c\uc870\ub97c \uae30\ubc18\uc73c\ub85c \ud55c \uc804\ub7b5 \uac8c\uc784\uc785\ub2c8\ub2e4. \uac01 \ud50c\ub808\uc774\uc5b4\ub294 \ud2b9\uc815 \ub3d9\ubb3c \uc5ed\ud560\uc744 \ub9e1\uc544 \uc790\uc2e0\uc758 \uc2b9\ub9ac \uc870\uac74\uc744 \ub2ec\uc131\ud558\uae30 \uc704\ud574 \uacbd\uc7c1\ud569\ub2c8\ub2e4."]})}),(0,we.jsxs)("div",{className:"rules-section",children:[(0,we.jsx)("h3",{children:"\uac8c\uc784 \uc9c4\ud589 \uc21c\uc11c"}),(0,we.jsxs)("ol",{className:"rules-list",children:[(0,we.jsxs)("li",{children:[(0,we.jsx)("span",{className:"rule-number",children:"1"})," ",(0,we.jsxs)("span",{className:"rule-text",children:["\ub3d9\ubb3c \uc120\ud0dd: 30\ucd08 \uac04 \uc790\uc2e0\uc774 \uc5b4\ub5a4 \ub3d9\ubb3c\uc778\uc9c0 \ud45c\uc2dc\ub429\ub2c8\ub2e4. \uc774 \uc2dc\uac04 \ub3d9\uc548 ",(0,we.jsx)("span",{className:"animal-highlight",children:"\uae4c\ub9c8\uadc0"}),"\ub294 \uc5b4\ub5a4 \uc0ac\ub78c\uc774 \uc6b0\uc2b9\ud560 \uc9c0\ub97c \uc608\uce21\ud558\uace0, ",(0,we.jsx)("span",{className:"animal-highlight",children:"\uce74\uba5c\ub808\uc628"}),"\uc740 \uc5b4\ub5a4 \ub3d9\ubb3c\ub85c \ubcc0\uc7a5\ud560\uc9c0\ub97c \uc120\ud0dd\ud574\uc57c \ud569\ub2c8\ub2e4."]})]}),(0,we.jsxs)("li",{children:[(0,we.jsx)("span",{className:"rule-number",children:"2"})," ",(0,we.jsx)("span",{className:"rule-text",children:"\uc5ff\ubcf4\uae30: \ubaa8\ub4e0 \ub3d9\ubb3c\uc774 \uac00\ub2a5\ud558\uba70 \uc774\ub3d9 \uc804 \ubaa8\uc784 \uc804\uc5d0\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4. \uc774 \uc2dc\uac04\uc774 \uc9c0\ub098\uba74 \uc5ff\ubcf4\uae30\ub97c \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. 1\ud68c\uc5d0 \ud55c\ud574 \uc6d0\ud558\ub294 \uc0ac\ub78c\uc774 \uc5b4\ub5a4 \ub3d9\ubb3c\uc778\uc9c0 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]}),(0,we.jsxs)("li",{children:[(0,we.jsx)("span",{className:"rule-number",children:"3"})," ",(0,we.jsx)("span",{className:"rule-text",children:"\uc774\ub3d9 \uc804 \ubaa8\uc784: \uccab \uc774\ub3d9 \uc804\uc5d0 \ud55c\ud558\uc5ec \uc6d0\ud558\ub294 \uc9c0\uc5ed\uc73c\ub85c \uc774\ub3d9\ud558\uae30 \uc804\uc5d0 \ub2e4 \uac19\uc774 \ubaa8\uc5ec \ucc44\ud305\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]}),(0,we.jsxs)("li",{children:[(0,we.jsx)("span",{className:"rule-number",children:"4"})," ",(0,we.jsx)("span",{className:"rule-text",children:"\uc774\ub3d9: 30\ucd08 \uac04 \uc6d0\ud558\ub294 \uc9c0\uc5ed\uc73c\ub85c \uc774\ub3d9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2e8, \ud55c \ubc88 \uc790\uc2e0\uc758 \uac70\ucc98\uc9c0\ub97c \ubc97\uc5b4\ub09c \uacbd\uc6b0 \uadf8 \ub2e4\uc74c\uc5d0\ub294 \ubc18\ub4dc\uc2dc \uc790\uc2e0\uc758 \uac70\ucc98\uc9c0\ub85c\ub9cc \uc774\ub3d9\ud574\uc57c \ud569\ub2c8\ub2e4."})]}),(0,we.jsxs)("li",{children:[(0,we.jsx)("span",{className:"rule-number",children:"5"})," ",(0,we.jsx)("span",{className:"rule-text",children:"\ud22c\ud45c: \uc6d0\ud558\ub294 \uc9c0\uc5ed\uc73c\ub85c \uc774\ub3d9\ud55c \ub2e4\uc74c \uac01 \uc9c0\uc5ed\uc5d0 \uc5b4\ub5a4 \uc0ac\ub78c\ub4e4\uc774 \uc788\ub294\uc9c0 \ud45c\uc2dc\ub429\ub2c8\ub2e4. \uc790\uc2e0\uc758 \uc9c0\uc5ed\uc5d0 \uc788\ub294 \uc0ac\ub78c\ub4e4\ub07c\ub9ac\ub9cc \ucc44\ud305\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc790\uc2e0\uc758 \uc9c0\uc5ed\uc5d0 \uc788\ub294 \uc0ac\ub78c\uc744 \ub04c\uc5b4 \ub0bc \uc2dc\ub3c4\ub97c \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]}),(0,we.jsxs)("li",{children:[(0,we.jsx)("span",{className:"rule-number",children:"6"})," ",(0,we.jsx)("span",{className:"rule-text",children:"(\uc774\ub3d9 - \ud22c\ud45c) \ucd1d 1\uac1c\uc758 \ub77c\uc6b4\ub4dc\ub85c \ubcf4\uace0 4\uac1c\uc758 \ub77c\uc6b4\ub4dc\uac00 \uc9c0\ub09c \ud6c4 \uc2b9\ub9ac \uc870\uac74\uacfc \ud328\ubc30 \uc870\uac74\uc5d0 \ub530\ub77c \uc6b0\uc2b9\uc790, \ud328\ubc30\uc790\uac00 \uacb0\uc815\ub429\ub2c8\ub2e4."})]})]})]}),(0,we.jsxs)("div",{className:"rules-section",children:[(0,we.jsx)("h3",{children:"\uac00\ub2a5\ud55c \ud589\ub3d9"}),(0,we.jsxs)("ul",{className:"actions-list",children:[(0,we.jsxs)("li",{children:[(0,we.jsx)("span",{className:"action-icon change"})," ",(0,we.jsx)("span",{className:"action-name",children:"\ubcc0\uc7a5:"})," ",(0,we.jsx)("span",{className:"action-desc",children:"\uce74\uba5c\ub808\uc628\uc5d0 \ud55c\ud574 \uac00\ub2a5\ud558\uba70 \ub3d9\ubb3c \uc120\ud0dd \uc2dc\uac04\uc5d0\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4. \uc5b4\ub5a4 \ub3d9\ubb3c\ub85c \ubcc0\uc7a5\ud560\uc9c0 \uc120\ud0dd\ud558\uc5ec \ub2e4\ub978 \uc0ac\ub78c\uc774 \uc5ff\ubcf4\uae30 \uc2dc \uadf8 \ub3d9\ubb3c\ub85c \ubcf4\uc774\uac8c \ub429\ub2c8\ub2e4."})]}),(0,we.jsxs)("li",{children:[(0,we.jsx)("span",{className:"action-icon predict"})," ",(0,we.jsx)("span",{className:"action-name",children:"\uc608\uce21:"})," ",(0,we.jsx)("span",{className:"action-desc",children:"\uae4c\ub9c8\uadc0\uc5d0 \ud55c\ud574 \uac00\ub2a5\ud558\uba70 \ub3d9\ubb3c \uc120\ud0dd \uc2dc\uac04\uc5d0\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4. \uc5b4\ub5a4 \ub3d9\ubb3c\uc774 \uc6b0\uc2b9\ud560\uc9c0 \uc120\ud0dd\ud558\uc5ec \uadf8 \ub3d9\ubb3c\uc774 \uc6b0\uc2b9 \uc2dc \uc790\uc2e0\ub3c4 \uc6b0\uc2b9\ud558\uac8c \ub429\ub2c8\ub2e4."})]}),(0,we.jsxs)("li",{children:[(0,we.jsx)("span",{className:"action-icon kill"})," ",(0,we.jsx)("span",{className:"action-name",children:"\ub04c:"})," ",(0,we.jsx)("span",{className:"action-desc",children:"\ubc40\uc744 \uc81c\uc678\ud55c \ubaa8\ub4e0 \ub3d9\ubb3c\uc774 \uac00\ub2a5\ud558\uba70 \ud22c\ud45c \uc2dc\uac04\uc5d0 \uac00\ub2a5\ud569\ub2c8\ub2e4. \ub04c\uc744 \uc9c0\uc5ed\uc5d0 \uc788\ub294 \uc0ac\ub78c\ub9cc \uc8fd\uc77c \uc218 \uc788\ub2e4. \uc790\uc2e0\ubcf4\ub2e4 \ub192\uc740 \uc11c\uc5f4\uc758 \ub3d9\ubb3c\uc778 \uacbd\uc6b0 \uc8fd\uc77c \uc218 \uc5c6\uace0 \uc0b4\ud574\ub2f9\ud55c\ub2e4. \ubc40\uc774 \uacf5\uaca9\ubc1b\uc740 \uacbd\uc6b0 \uacf5\uaca9\ud55c \uc0ac\ub78c\uc774 \uc5ed\uc73c\ub85c \uc8fd\uac8c \ub41c\ub2e4. \ub204\uac00 \ub204\uad6c\ub97c \ub04c \uc2dc\ub3c4\ud588\ub294\uc9c0\ub294 \uc9c0\uc5ed\uc5d0 \uc788\ub294 \uc0ac\ub78c\ub9cc \uc54c \uc218 \uc788\uace0 \uc0b4\ud574\ub410\ub2e4\ub294 \uba54\uc2dc\uc9c0\uac00 \ub72c\ub2e4. \ub04c\uc758 \uc131\uacf5\ud588\uc744 \uacbd\uc6b0 \ubaa8\ub4e0 \uc9c0\uc5ed\uc5d0 \ub204\uac00 \uc8fd\uc5c8\ub294\uc9c0\uac00 \ud45c\uc2dc\ub41c\ub2e4, \uc2e4\ud328 \uc2dc \ud574\ub2f9 \uc9c0\uc5ed\uc5d0\ub9cc \ud45c\uc2dc\ub41c\ub2e4."})]})]})]})]})]})]}),(0,we.jsxs)("div",{className:"animal-table-container card slide-in-up",children:[(0,we.jsx)("h2",{children:"\ub3d9\ubb3c \uc815\ubcf4"}),(0,we.jsx)("div",{className:"table-responsive",children:(0,we.jsxs)("table",{className:"rules-table",children:[(0,we.jsx)("thead",{children:(0,we.jsxs)("tr",{children:[(0,we.jsx)("th",{children:"\ub3d9\ubb3c"}),(0,we.jsx)("th",{children:"\uc11c\uc2dd\uc9c0"}),(0,we.jsx)("th",{children:"\uc2b9\ub9ac\uc870\uac74"}),(0,we.jsx)("th",{children:"\ud328\ubc30\uc870\uac74"}),(0,we.jsx)("th",{children:"\uc8fc \uac70\uc8fc\uc9c0\uc5ed"}),(0,we.jsx)("th",{children:"\ud558\ub298\uc9c4\uc785\uac00\ub2a5\uc5ec\ubd80"}),(0,we.jsx)("th",{children:"\ube44\uace0"})]})}),(0,we.jsxs)("tbody",{children:[(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{className:"animal-name animal-tier-1",children:"\uc0ac\uc790"}),(0,we.jsx)("td",{children:"1\uc21c\uc704"}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{children:"\uc0ac\ub9dd"}),(0,we.jsx)("td",{children:"\ub4e4"}),(0,we.jsx)("td",{children:"X"}),(0,we.jsx)("td",{children:"\ud55c \ub77c\uc6b4\ub4dc\ub9cc \uad76\uc5b4\ub3c4 \uc0ac\ub9dd"})]}),(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{className:"animal-name animal-tier-2",children:"\uc545\uc5b4"}),(0,we.jsx)("td",{children:"2\uc21c\uc704"}),(0,we.jsx)("td",{children:"\uc0dd\uc874"}),(0,we.jsx)("td",{children:"\uc0ac\ub9dd"}),(0,we.jsx)("td",{children:"\uac15"}),(0,we.jsx)("td",{children:"X"}),(0,we.jsx)("td",{children:"\ub450 \ub77c\uc6b4\ub4dc \uad76\uc744 \uc2dc \uc0ac\ub9dd"})]}),(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{className:"animal-name animal-tier-3",children:"\ub3c5\uc218\ub9ac"}),(0,we.jsx)("td",{children:"3\uc21c\uc704"}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{children:"\ud558\ub298"}),(0,we.jsx)("td",{children:"O"}),(0,we.jsx)("td",{children:"\uc138 \ub77c\uc6b4\ub4dc \uad76\uc744 \uc2dc \uc0ac\ub9dd"})]}),(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{className:"animal-name animal-tier-4",children:"\ud558\uc774\uc5d0\ub098"}),(0,we.jsx)("td",{children:"4\uc21c\uc704"}),(0,we.jsx)("td",{children:"\uc0ac\uc790\uc758 \uc0ac\ub9dd"}),(0,we.jsx)("td",{children:"\uc0ac\uc790\uc758 \uc0dd\uc874"}),(0,we.jsx)("td",{children:"\ub4e4"}),(0,we.jsx)("td",{children:"X"}),(0,we.jsx)("td",{})]}),(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{className:"animal-name animal-tier-5",children:"\ubc40"}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{children:"\uc0ac\uc790\uc758 \uc0dd\uc874"}),(0,we.jsx)("td",{children:"\uc0ac\uc790\uc758 \uc0ac\ub9dd"}),(0,we.jsx)("td",{children:"\uc232"}),(0,we.jsx)("td",{children:"X"}),(0,we.jsx)("td",{})]}),(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{className:"animal-name animal-tier-5",children:"\uc545\uc5b4\uc0c8"}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{children:"\uc545\uc5b4\uc758 \uc0dd\uc874"}),(0,we.jsx)("td",{children:"\uc545\uc5b4\uc758 \uc0ac\ub9dd"}),(0,we.jsx)("td",{children:"\uac15"}),(0,we.jsx)("td",{children:"O"}),(0,we.jsx)("td",{children:"\uc5ff\ubcf4\uae30 \ub54c 2\uba85\uc744 \uc5ff\ubcfc \uc218 \uc788\uc74c"})]}),(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{className:"animal-name animal-tier-5",children:"\uae4c\ub9c8\uadc0"}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{children:"\uc9c0\ubaa9\ud55c \uc778\ubb3c\uc758 \uc2b9\ub9ac"}),(0,we.jsx)("td",{children:"\uc9c0\ubaa9\ud55c \uc778\ubb3c\uc758 \ud328\ubc30"}),(0,we.jsx)("td",{children:"\ud558\ub298"}),(0,we.jsx)("td",{children:"O"}),(0,we.jsx)("td",{})]}),(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{className:"animal-name animal-tier-5",children:"\uce74\uba5c\ub808\uc628"}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{children:"\uc0dd\uc874"}),(0,we.jsx)("td",{children:"\uc0ac\ub9dd"}),(0,we.jsx)("td",{children:"\uc232"}),(0,we.jsx)("td",{children:"X"}),(0,we.jsx)("td",{children:"\ub2e4\ub978 \ub3d9\ubb3c\ub85c \uc704\uc7a5\ud560 \uc218 \uc788\uc74c"})]}),(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{className:"animal-name animal-tier-5",children:"\ubc40"}),(0,we.jsx)("td",{children:"\ud53c\uc2dd\uc790"}),(0,we.jsx)("td",{children:"9\uba85 \uc774\uc0c1 \uc0ac\ub9dd"}),(0,we.jsx)("td",{children:"5\uba85 \uc774\uc0c1 \uc0dd\uc874"}),(0,we.jsx)("td",{children:"\uc232"}),(0,we.jsx)("td",{children:"X"}),(0,we.jsx)("td",{children:"\uc790\uc2e0\uc744 \uacf5\uaca9\ud55c \ub3d9\ubb3c\uc774 \uc5ed\uc73c\ub85c \uc0ac\ub9dd"})]}),(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{className:"animal-name animal-tier-5",children:"\ud1a0\ub07c"}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{children:"\uc232"}),(0,we.jsx)("td",{children:"X"}),(0,we.jsx)("td",{})]}),(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{className:"animal-name animal-tier-5",children:"\uc0ac\uc2b4"}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{children:"\uc0dd\uc874"}),(0,we.jsx)("td",{children:"\uc0ac\ub9dd"}),(0,we.jsx)("td",{children:"\ub4e4"}),(0,we.jsx)("td",{children:"X"}),(0,we.jsx)("td",{})]}),(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{className:"animal-name animal-tier-5",children:"\uc218\ub2ec"}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{children:"\uc0dd\uc874"}),(0,we.jsx)("td",{children:"\uc0ac\ub9dd"}),(0,we.jsx)("td",{children:"\uac15"}),(0,we.jsx)("td",{children:"X"}),(0,we.jsx)("td",{children:"\uc774 \uc911 \uc0dd\uc874\ud55c \ubaa8\ub4e0 \ub3d9\ubb3c\uc774 \ud55c \uad70\ub370\uc5d0 \ubaa8\uc77c \uc2dc \uc8fd\uc9c0 \uc54a\uc74c"})]}),(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{className:"animal-name animal-tier-5",children:"\uccad\ub465\uc624\ub9ac"}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{}),(0,we.jsx)("td",{children:"\ud558\ub298"}),(0,we.jsx)("td",{children:"O"}),(0,we.jsx)("td",{})]})]})]})})]})]}),(0,we.jsx)("div",{className:"home-footer",children:(0,we.jsx)("p",{children:"\xa9 2025 \uba39\uc774\uc0ac\uc2ac \uac8c\uc784 | \ub354 \uc9c0\ub2c8\uc5b4\uc2a4: \ub8f0 \ube0c\ub808\uc774\ucee4 \uae30\ubc18"})})]})},Ce=!1,xe=!1,Se="${JSCORE_VERSION}",Ee=function(e,t){if(!e)throw Ne(t)},Ne=function(e){return new Error("Firebase Database ("+Se+") INTERNAL ASSERT FAILED: "+e)},Te=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Te(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Pe;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(e){const t=Te(e);return Ie.encodeByteArray(t,!0)},je=function(e){return Re(e).replace(/\./g,"")},Oe=function(e){try{return Ie.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function De(e){return Le(void 0,e)}function Le(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Le(e[n],t[n]));return e}const Ae=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Me=()=>{try{return Ae()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Oe(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Fe=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Me())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ze=()=>{var e;return null===(e=Me())||void 0===e?void 0:e.config};class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Be(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function qe(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function He(){return!0===Ce||!0===xe}class $e extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,$e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Ve,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new $e(n,s,t)}}const Ve=/\{\$([^}]+)}/g;function Qe(e){return JSON.parse(e)}function Ke(e){return JSON.stringify(e)}const Ge=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Qe(Oe(s[0])||""),n=Qe(Oe(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}};function Ye(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Xe(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Je(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ze(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function et(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(tt(n)&&tt(s)){if(!et(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tt(e){return null!==e&&"object"===typeof e}class nt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function rt(e,t){return`${e} failed: ${t} argument `}const it=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function st(e){return e&&e._delegate?e._delegate:e}class ot{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const at="[DEFAULT]";class lt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ue;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:at})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===at?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;return this.component?this.component.multipleInstances?e:at:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ct{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ut=[];var ht;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ht||(ht={}));const dt={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},ft=ht.INFO,pt={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},mt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=pt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class gt{constructor(e){this.name=e,this._logLevel=ft,this._logHandler=mt,this._userLogHandler=null,ut.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?dt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...t),this._logHandler(this,ht.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...t),this._logHandler(this,ht.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.INFO,...t),this._logHandler(this,ht.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.WARN,...t),this._logHandler(this,ht.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...t),this._logHandler(this,ht.ERROR,...t)}}let yt,vt;const _t=new WeakMap,bt=new WeakMap,wt=new WeakMap,kt=new WeakMap,Ct=new WeakMap;let xt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||wt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function St(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vt||(vt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Tt(this),n),Nt(_t.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nt(e.apply(Tt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Tt(this),t,...r);return wt.set(s,t.sort?t.sort():[t]),Nt(s)}}function Et(e){return"function"===typeof e?St(e):(e instanceof IDBTransaction&&function(e){if(bt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));bt.set(e,t)}(e),t=e,(yt||(yt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,xt):e);var t}function Nt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Nt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&_t.set(t,e)})).catch((()=>{})),Ct.set(t,e),t}(e);if(kt.has(e))return kt.get(e);const t=Et(e);return t!==e&&(kt.set(e,t),Ct.set(t,e)),t}const Tt=e=>Ct.get(e);const It=["get","getKey","getAll","getAllKeys","count"],Pt=["put","add","delete","clear"],Rt=new Map;function jt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Rt.get(t))return Rt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Pt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!It.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Rt.set(t,s),s}xt=(e=>({...e,get:(t,n,r)=>jt(t,n)||e.get(t,n,r),has:(t,n)=>!!jt(t,n)||e.has(t,n)}))(xt);class Ot{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Dt="@firebase/app",Lt="0.11.5",At=new gt("@firebase/app"),Mt="@firebase/app-compat",Ft="@firebase/analytics-compat",zt="@firebase/analytics",Ut="@firebase/app-check-compat",Bt="@firebase/app-check",qt="@firebase/auth",Ht="@firebase/auth-compat",$t="@firebase/database",Wt="@firebase/data-connect",Vt="@firebase/database-compat",Qt="@firebase/functions",Kt="@firebase/functions-compat",Gt="@firebase/installations",Yt="@firebase/installations-compat",Xt="@firebase/messaging",Jt="@firebase/messaging-compat",Zt="@firebase/performance",en="@firebase/performance-compat",tn="@firebase/remote-config",nn="@firebase/remote-config-compat",rn="@firebase/storage",sn="@firebase/storage-compat",on="@firebase/firestore",an="@firebase/vertexai",ln="@firebase/firestore-compat",cn="firebase",un="[DEFAULT]",hn={[Dt]:"fire-core",[Mt]:"fire-core-compat",[zt]:"fire-analytics",[Ft]:"fire-analytics-compat",[Bt]:"fire-app-check",[Ut]:"fire-app-check-compat",[qt]:"fire-auth",[Ht]:"fire-auth-compat",[$t]:"fire-rtdb",[Wt]:"fire-data-connect",[Vt]:"fire-rtdb-compat",[Qt]:"fire-fn",[Kt]:"fire-fn-compat",[Gt]:"fire-iid",[Yt]:"fire-iid-compat",[Xt]:"fire-fcm",[Jt]:"fire-fcm-compat",[Zt]:"fire-perf",[en]:"fire-perf-compat",[tn]:"fire-rc",[nn]:"fire-rc-compat",[rn]:"fire-gcs",[sn]:"fire-gcs-compat",[on]:"fire-fst",[ln]:"fire-fst-compat",[an]:"fire-vertex","fire-js":"fire-js",[cn]:"fire-js-all"},dn=new Map,fn=new Map,pn=new Map;function mn(e,t){try{e.container.addComponent(t)}catch(n){At.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function gn(e){const t=e.name;if(pn.has(t))return At.debug(`There were multiple attempts to register component ${t}.`),!1;pn.set(t,e);for(const n of dn.values())mn(n,e);for(const n of fn.values())mn(n,e);return!0}function yn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const vn=new We("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class _n{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ot("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}function bn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:un,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw vn.create("bad-app-name",{appName:String(i)});if(n||(n=ze()),!n)throw vn.create("no-options");const s=dn.get(i);if(s){if(et(n,s.options)&&et(r,s.config))return s;throw vn.create("duplicate-app",{appName:i})}const o=new ct(i);for(const l of pn.values())o.addComponent(l);const a=new _n(n,r,o);return dn.set(i,a),a}function wn(e,t,n){var r;let i=null!==(r=hn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void At.warn(e.join(" "))}gn(new ot(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const kn="firebase-heartbeat-store";let Cn=null;function xn(){return Cn||(Cn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Nt(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Nt(o.result),e.oldVersion,e.newVersion,Nt(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(kn)}catch(n){console.warn(n)}}}).catch((e=>{throw vn.create("idb-open",{originalErrorMessage:e.message})}))),Cn}async function Sn(e,t){try{const n=(await xn()).transaction(kn,"readwrite"),r=n.objectStore(kn);await r.put(t,En(e)),await n.done}catch(n){if(n instanceof $e)At.warn(n.message);else{const e=vn.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});At.warn(e.message)}}}function En(e){return`${e.name}!${e.options.appId}`}class Nn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new In(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Tn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){At.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Tn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Pn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=je(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return At.warn(t),""}}}function Tn(){return(new Date).toISOString().substring(0,10)}class In{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Yn){t(Yn)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await xn()).transaction(kn),n=await t.objectStore(kn).get(En(e));return await t.done,n}catch(t){if(t instanceof $e)At.warn(t.message);else{const e=vn.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});At.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Pn(e){return je(JSON.stringify({version:2,heartbeats:e})).length}var Rn;Rn="",gn(new ot("platform-logger",(e=>new Ot(e)),"PRIVATE")),gn(new ot("heartbeat",(e=>new Nn(e)),"PRIVATE")),wn(Dt,Lt,Rn),wn(Dt,Lt,"esm2017"),wn("fire-js","");wn("firebase","11.6.1","app");const jn="@firebase/database",On="1.0.14";let Dn="";function Ln(e){Dn=e}class An{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Qe(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Mn{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ye(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Fn=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new An(t)}}catch(t){}return new Mn},zn=Fn("localStorage"),Un=Fn("sessionStorage"),Bn=new gt("@firebase/database"),qn=function(){let e=1;return function(){return e++}}(),Hn=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Ee(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new nt;n.update(t);const r=n.digest();return Ie.encodeByteArray(r)},$n=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=$n.apply(null,n):e+="object"===typeof n?Ke(n):n,e+=" "}return e};let Wn=null,Vn=!0;const Qn=function(e,t){Ee(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Bn.logLevel=ht.VERBOSE,Wn=Bn.log.bind(Bn),t&&Un.set("logging_enabled",!0)):"function"===typeof e?Wn=e:(Wn=null,Un.remove("logging_enabled"))},Kn=function(){if(!0===Vn&&(Vn=!1,null===Wn&&!0===Un.get("logging_enabled")&&Qn(!0)),Wn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=$n.apply(null,t);Wn(r)}},Gn=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Kn(e,...n)}},Yn=function(){const e="FIREBASE INTERNAL ERROR: "+$n(...arguments);Bn.error(e)},Xn=function(){const e=`FIREBASE FATAL ERROR: ${$n(...arguments)}`;throw Bn.error(e),new Error(e)},Jn=function(){const e="FIREBASE WARNING: "+$n(...arguments);Bn.warn(e)},Zn=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},er="[MIN_NAME]",tr="[MAX_NAME]",nr=function(e,t){if(e===t)return 0;if(e===er||t===tr)return-1;if(t===er||e===tr)return 1;{const n=ur(e),r=ur(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},rr=function(e,t){return e===t?0:e<t?-1:1},ir=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ke(t))},sr=function(e){if("object"!==typeof e||null===e)return Ke(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Ke(t[r]),n+=":",n+=sr(e[t[r]]);return n+="}",n},or=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ar(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const lr=function(e){Ee(!Zn(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const cr=new RegExp("^-?(0*)\\d{1,10}$"),ur=function(e){if(cr.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},hr=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw Jn("Exception was thrown by user callback.",e),t}),Math.floor(0))}},dr=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class fr{constructor(e,t){var n;this.appCheckProvider=t,this.appName=e.name,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Jn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pr{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Kn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jn(e)}}class mr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}mr.OWNER="owner";const gr="5",yr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vr="ac",_r="websocket",br="long_polling";class wr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zn.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function kr(e,t,n){let r;if(Ee("string"===typeof t,"typeof type must == string"),Ee("object"===typeof n,"typeof params must == object"),t===_r)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==br)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return ar(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class Cr{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ye(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return De(this.counters_)}}const xr={},Sr={};function Er(e){const t=e.toString();return xr[t]||(xr[t]=new Cr),xr[t]}class Nr{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&hr((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Tr="start";class Ir{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gn(e),this.stats_=Er(t),this.urlFn=e=>(this.appCheckToken&&(e[vr]=this.appCheckToken),kr(t,br,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Nr(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(He()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pr((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Tr)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Tr]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=gr,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[vr]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&yr.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ir.forceAllow_=!0}static forceDisallow(){Ir.forceDisallow_=!0}static isAvailable(){return!He()&&(!!Ir.forceAllow_||!Ir.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ke(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Re(t),r=or(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(He())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ke(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Pr{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,He())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=qn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Pr.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Kn("frame writing exception"),i.stack&&Kn(i.stack),Kn(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Kn("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){He()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Kn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let Rr=null;"undefined"!==typeof MozWebSocket?Rr=MozWebSocket:"undefined"!==typeof WebSocket&&(Rr=WebSocket);class jr{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gn(this.connId),this.stats_=Er(t),this.connURL=jr.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=gr,!He()&&"undefined"!==typeof location&&location.hostname&&yr.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[vr]=r),i&&(s.p=i),kr(e,_r,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zn.set("previous_websocket_failure",!0);try{let e;if(He()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${gr}/${Dn}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Rr(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){jr.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Rr&&!jr.forceDisallow_}static previouslyFailed(){return zn.isInMemoryStorage||!0===zn.get("previous_websocket_failure")}markConnectionHealthy(){zn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Qe(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ee(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Ke(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=or(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jr.responsesRequiredToBeHealthy=2,jr.healthyTimeout=3e4;class Or{static get ALL_TRANSPORTS(){return[Ir,jr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=jr&&jr.isAvailable();let n=t&&!jr.previouslyFailed();if(e.webSocketOnly&&(t||Jn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[jr];else{const e=this.transports_=[];for(const t of Or.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Or.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Or.globalTransportInitialized_=!1;class Dr{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gn("c:"+this.id+":"),this.transportManager_=new Or(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=dr((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ir("t",e),n=ir("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ir("t",e),n=ir("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ir("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Yn("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yn("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),gr!==n&&Jn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),dr((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dr((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Lr{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Ar{constructor(e){this.allowedEvents_=e,this.listeners_={},Ee(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Ee(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Mr extends Ar{static getInstance(){return new Mr}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||qe()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}getInitialEvent(e){return Ee("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Fr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function zr(){return new Fr("")}function Ur(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Br(e){return e.pieces_.length-e.pieceNum_}function qr(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Fr(e.pieces_,t)}function Hr(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function $r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Wr(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Fr(t,0)}function Vr(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Fr)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Fr(n,0)}function Qr(e){return e.pieceNum_>=e.pieces_.length}function Kr(e,t){const n=Ur(e),r=Ur(t);if(null===n)return t;if(n===r)return Kr(qr(e),qr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Gr(e,t){if(Br(e)!==Br(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Yr(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Br(e)>Br(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Xr{constructor(e,t){this.errorPrefix_=t,this.parts_=$r(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=it(this.parts_[n]);Jr(this)}}function Jr(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Zr(e))}function Zr(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class ei extends Ar{static getInstance(){return new ei}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}getInitialEvent(e){return Ee("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ti=1e3;class ni extends Lr{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=ni.nextPersistentConnectionId_++,this.log_=Gn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ti,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!He())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ei.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Mr.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ke(i)),Ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Ue,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ee(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const s=i.d,o=i.s;ni.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Ye(e,"w")){const n=Xe(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Jn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Ge(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Ge(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Yn("Unrecognized action received from server: "+Ke(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ti,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ti,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ti),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ni.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){Ee(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Kn("getToken() completed but was canceled"):(Kn("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new Dr(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Jn(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(Yn){this.log_("Failed to get token: "+Yn),s||(this.repoInfo_.nodeAdmin&&Jn(Yn),a())}}}interrupt(e){Kn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Kn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Je(this.interruptReasons_)&&(this.reconnectDelay_=ti,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>sr(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Fr(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Kn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Kn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";He()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Dn.replace(/\./g,"-")]=1,qe()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Mr.getInstance().currentlyOnline();return Je(this.interruptReasons_)&&e}}ni.nextPersistentConnectionId_=0,ni.nextConnectionId_=0;class ri{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ri(e,t)}}class ii{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new ri(er,e),r=new ri(er,t);return 0!==this.compare(n,r)}minPost(){return ri.MIN}}let si;class oi extends ii{static get __EMPTY_NODE(){return si}static set __EMPTY_NODE(e){si=e}compare(e,t){return nr(e.name,t.name)}isDefinedOn(e){throw Ne("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ri.MIN}maxPost(){return new ri(tr,si)}makePost(e,t){return Ee("string"===typeof e,"KeyIndex indexValue must always be a string."),new ri(e,si)}toString(){return".key"}}const ai=new oi;class li{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ci{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ci.RED,this.left=null!=r?r:ui.EMPTY_NODE,this.right=null!=i?i:ui.EMPTY_NODE}copy(e,t,n,r,i){return new ci(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ui.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ui.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ci.RED=!0,ci.BLACK=!1;class ui{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ui.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new ui(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ci.BLACK,null,null))}remove(e){return new ui(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ci.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new li(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new li(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new li(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new li(this.root_,null,this.comparator_,!0,e)}}function hi(e,t){return nr(e.name,t.name)}function di(e,t){return nr(e,t)}let fi;ui.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new ci(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const pi=function(e){return"number"===typeof e?"number:"+lr(e):"string:"+e},mi=function(e){if(e.isLeafNode()){const t=e.val();Ee("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ye(t,".sv"),"Priority must be a string or number.")}else Ee(e===fi||e.isEmpty(),"priority of unexpected type.");Ee(e===fi||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let gi,yi,vi;class _i{static set __childrenNodeConstructor(e){gi=e}static get __childrenNodeConstructor(){return gi}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_i.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ee(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),mi(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new _i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:_i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Qr(e)?this:".priority"===Ur(e)?this.priorityNode_:_i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:_i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Ur(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Ee(".priority"!==n||1===Br(e),".priority must be the last token in a path"),this.updateImmediateChild(n,_i.__childrenNodeConstructor.EMPTY_NODE.updateChild(qr(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+pi(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?lr(this.value_):this.value_,this.lazyHash_=Hn(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===_i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof _i.__childrenNodeConstructor?-1:(Ee(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=_i.VALUE_TYPE_ORDER.indexOf(t),i=_i.VALUE_TYPE_ORDER.indexOf(n);return Ee(r>=0,"Unknown leaf type: "+t),Ee(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}_i.VALUE_TYPE_ORDER=["object","boolean","number","string"];const bi=new class extends ii{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?nr(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ri.MIN}maxPost(){return new ri(tr,new _i("[PRIORITY-POST]",vi))}makePost(e,t){const n=yi(e);return new ri(t,new _i("[PRIORITY-POST]",n))}toString(){return".priority"}},wi=Math.log(2);class ki{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/wi,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ci=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new ci(a,o.node,ci.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new ci(a,o.node,ci.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],h=n?n(u):u;l(new ci(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,ci.BLACK):(a(r,ci.BLACK),a(r,ci.RED))}return s}(new ki(e.length));return new ui(r||t,s)};let xi;const Si={};class Ei{static get Default(){return Ee(Si&&bi,"ChildrenNode.ts has not been loaded"),xi=xi||new Ei({".priority":Si},{".priority":bi}),xi}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Xe(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ui?t:null}hasIndex(e){return Ye(this.indexSet_,e.toString())}addIndex(e,t){Ee(e!==ai,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(ri.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?Ci(n,e.getCompare()):Si;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new Ei(c,l)}addToIndexes(e,t){const n=Ze(this.indexes_,((n,r)=>{const i=Xe(this.indexSet_,r);if(Ee(i,"Missing index implementation for "+r),n===Si){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(ri.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),Ci(n,i.getCompare())}return Si}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new ri(e.name,r))),i.insert(e,e.node)}}));return new Ei(n,this.indexSet_)}removeFromIndexes(e,t){const n=Ze(this.indexes_,(n=>{if(n===Si)return n;{const r=t.get(e.name);return r?n.remove(new ri(e.name,r)):n}}));return new Ei(n,this.indexSet_)}}let Ni;class Ti{static get EMPTY_NODE(){return Ni||(Ni=new Ti(new ui(di),null,Ei.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&mi(this.priorityNode_),this.children_.isEmpty()&&Ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ni}updatePriority(e){return this.children_.isEmpty()?this:new Ti(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Ni:t}}getChild(e){const t=Ur(e);return null===t?this:this.getImmediateChild(t).getChild(qr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Ee(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new ri(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?Ni:this.priorityNode_;return new Ti(r,s,i)}}updateChild(e,t){const n=Ur(e);if(null===n)return t;{Ee(".priority"!==Ur(e)||1===Br(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(qr(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(bi,((s,o)=>{t[s]=o.val(e),n++,i&&Ti.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+pi(this.getPriority().val())+":"),this.forEachChild(bi,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Hn(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new ri(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ri(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ri(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,ri.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,ri.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ii?-1:0}withIndex(e){if(e===ai||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ti(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===ai||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(bi),n=t.getIterator(bi);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===ai?null:this.indexMap_.get(e.toString())}}Ti.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Ii=new class extends Ti{constructor(){super(new ui(di),Ti.EMPTY_NODE,Ei.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ti.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ri,{MIN:{value:new ri(er,Ti.EMPTY_NODE)},MAX:{value:new ri(tr,Ii)}}),oi.__EMPTY_NODE=Ti.EMPTY_NODE,_i.__childrenNodeConstructor=Ti,fi=Ii,function(e){vi=e}(Ii);function Pi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Ti.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Ee(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new _i(e,Pi(t))}if(e instanceof Array){let n=Ti.EMPTY_NODE;return ar(e,((t,r)=>{if(Ye(e,t)&&"."!==t.substring(0,1)){const e=Pi(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Pi(t))}{const n=[];let r=!1;if(ar(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Pi(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new ri(e,i)))}})),0===n.length)return Ti.EMPTY_NODE;const i=Ci(n,hi,(e=>e.name),di);if(r){const e=Ci(n,bi.getCompare());return new Ti(i,Pi(t),new Ei({".priority":e},{".priority":bi}))}return new Ti(i,Pi(t),Ei.Default)}}!function(e){yi=e}(Pi);class Ri extends ii{constructor(e){super(),this.indexPath_=e,Ee(!Qr(e)&&".priority"!==Ur(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?nr(e.name,t.name):i}makePost(e,t){const n=Pi(e),r=Ti.EMPTY_NODE.updateChild(this.indexPath_,n);return new ri(t,r)}maxPost(){const e=Ti.EMPTY_NODE.updateChild(this.indexPath_,Ii);return new ri(tr,e)}toString(){return $r(this.indexPath_,0).join("/")}}const ji=new class extends ii{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?nr(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ri.MIN}maxPost(){return ri.MAX}makePost(e,t){const n=Pi(e);return new ri(t,n)}toString(){return".value"}};function Oi(e){return{type:"value",snapshotNode:e}}function Di(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Li(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ai(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Mi{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){Ee(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Li(t,o)):Ee(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(Di(t,n)):s.trackChildChange(Ai(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(bi,((e,r)=>{t.hasChild(e)||n.trackChildChange(Li(e,r))})),t.isLeafNode()||t.forEachChild(bi,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ai(t,r,i))}else n.trackChildChange(Di(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ti.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Fi{constructor(e){this.indexedFilter_=new Mi(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fi.getStartPost_(e),this.endPost_=Fi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new ri(t,n))||(n=Ti.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Ti.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Ti.EMPTY_NODE);const i=this;return t.forEachChild(bi,((e,t)=>{i.matches(new ri(e,t))||(r=r.updateImmediateChild(e,Ti.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class zi{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Fi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new ri(t,n))||(n=Ti.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Ti.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Ti.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Ti.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Ti.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;Ee(o.numChildren()===this.limit_,"");const a=new ri(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Ai(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Li(t,e));const n=o.updateImmediateChild(t,Ti.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Di(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=i&&(i.trackChildChange(Li(l.name,l.node)),i.trackChildChange(Di(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,Ti.EMPTY_NODE)):e}}class Ui{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:er}hasEnd(){return this.endSet_}getIndexEndValue(){return Ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===bi}copy(){const e=new Ui;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Bi(e){const t={};if(e.isDefault())return t;let n;if(e.index_===bi?n="$priority":e.index_===ji?n="$value":e.index_===ai?n="$key":(Ee(e.index_ instanceof Ri,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ke(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Ke(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Ke(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Ke(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Ke(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function qi(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==bi&&(t.i=e.index_.toString()),t}class Hi extends Lr{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Ee(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Gn("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=Hi.getListenId_(e,n),o={};this.listens_[s]=o;const a=Bi(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Xe(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Hi.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Bi(e._queryParams),n=e._path.toString(),r=new Ue;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=Qe(a.responseText)}catch(e){Jn("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&Jn("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class $i{constructor(){this.rootNode_=Ti.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Wi(){return{value:null,children:new Map}}function Vi(e,t,n){if(Qr(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Ur(t);e.children.has(r)||e.children.set(r,Wi());Vi(e.children.get(r),t=qr(t),n)}}function Qi(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Qi(r,new Fr(t.toString()+"/"+e),n)}))}class Ki{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ar(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Gi{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ki(e);const n=1e4+2e4*Math.random();dr(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;ar(e,((e,r)=>{r>0&&Ye(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),dr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Yi;function Xi(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Yi||(Yi={}));class Ji{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Yi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Qr(this.path)){if(null!=this.affectedTree.value)return Ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Fr(e));return new Ji(zr(),t,this.revert)}}return Ee(Ur(this.path)===e,"operationForChild called for unrelated child."),new Ji(qr(this.path),this.affectedTree,this.revert)}}class Zi{constructor(e,t){this.source=e,this.path=t,this.type=Yi.LISTEN_COMPLETE}operationForChild(e){return Qr(this.path)?new Zi(this.source,zr()):new Zi(this.source,qr(this.path))}}class es{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Yi.OVERWRITE}operationForChild(e){return Qr(this.path)?new es(this.source,zr(),this.snap.getImmediateChild(e)):new es(this.source,qr(this.path),this.snap)}}class ts{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Yi.MERGE}operationForChild(e){if(Qr(this.path)){const t=this.children.subtree(new Fr(e));return t.isEmpty()?null:t.value?new es(this.source,zr(),t.value):new ts(this.source,zr(),t)}return Ee(Ur(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ts(this.source,qr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ns{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Qr(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ur(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class rs{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function is(e,t,n,r,i,s){const o=r.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ne("Should only compare child_ events.");const r=new ri(t.childName,t.snapshotNode),i=new ri(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),o.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function ss(e,t){return{eventCache:e,serverCache:t}}function os(e,t,n,r){return ss(new ns(t,n,r),e.serverCache)}function as(e,t,n,r){return ss(e.eventCache,new ns(t,n,r))}function ls(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function cs(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let us;class hs{static fromObject(e){let t=new hs(null);return ar(e,((e,n)=>{t=t.set(new Fr(e),n)})),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(us||(us=new ui(rr)),us);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:zr(),value:this.value};if(Qr(e))return null;{const n=Ur(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(qr(e),t);if(null!=i){return{path:Vr(new Fr(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Qr(e))return this;{const t=Ur(e),n=this.children.get(t);return null!==n?n.subtree(qr(e)):new hs(null)}}set(e,t){if(Qr(e))return new hs(t,this.children);{const n=Ur(e),r=(this.children.get(n)||new hs(null)).set(qr(e),t),i=this.children.insert(n,r);return new hs(this.value,i)}}remove(e){if(Qr(e))return this.children.isEmpty()?new hs(null):new hs(null,this.children);{const t=Ur(e),n=this.children.get(t);if(n){const r=n.remove(qr(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new hs(null):new hs(this.value,i)}return this}}get(e){if(Qr(e))return this.value;{const t=Ur(e),n=this.children.get(t);return n?n.get(qr(e)):null}}setTree(e,t){if(Qr(e))return t;{const n=Ur(e),r=(this.children.get(n)||new hs(null)).setTree(qr(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new hs(this.value,i)}}fold(e){return this.fold_(zr(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Vr(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,zr(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Qr(e))return null;{const r=Ur(e),i=this.children.get(r);return i?i.findOnPath_(qr(e),Vr(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,zr(),t)}foreachOnPath_(e,t,n){if(Qr(e))return this;{this.value&&n(t,this.value);const r=Ur(e),i=this.children.get(r);return i?i.foreachOnPath_(qr(e),Vr(t,r),n):new hs(null)}}foreach(e){this.foreach_(zr(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Vr(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class ds{constructor(e){this.writeTree_=e}static empty(){return new ds(new hs(null))}}function fs(e,t,n){if(Qr(t))return new ds(new hs(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=Kr(i,t);return s=s.updateChild(o,n),new ds(e.writeTree_.set(i,s))}{const r=new hs(n),i=e.writeTree_.setTree(t,r);return new ds(i)}}}function ps(e,t,n){let r=e;return ar(n,((e,n)=>{r=fs(r,Vr(t,e),n)})),r}function ms(e,t){if(Qr(t))return ds.empty();{const n=e.writeTree_.setTree(t,new hs(null));return new ds(n)}}function gs(e,t){return null!=ys(e,t)}function ys(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Kr(n.path,t)):null}function vs(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(bi,((e,n)=>{t.push(new ri(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new ri(e,n.value))})),t}function _s(e,t){if(Qr(t))return e;{const n=ys(e,t);return new ds(null!=n?new hs(n):e.writeTree_.subtree(t))}}function bs(e){return e.writeTree_.isEmpty()}function ws(e,t){return ks(zr(),e.writeTree_,t)}function ks(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Ee(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=ks(Vr(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Vr(e,".priority"),r)),n}}function Cs(e,t){return As(t,e)}function xs(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Ee(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&Ss(t,r.path)?i=!1:Yr(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=Ns(e.allWrites,Es,zr()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=ms(e.visibleWrites,r.path);else{ar(r.children,(t=>{e.visibleWrites=ms(e.visibleWrites,Vr(r.path,t))}))}return!0}return!1}function Ss(e,t){if(e.snap)return Yr(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Yr(Vr(e.path,n),t))return!0;return!1}function Es(e){return e.visible}function Ns(e,t,n){let r=ds.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Yr(n,e)?(t=Kr(n,e),r=fs(r,t,s.snap)):Yr(e,n)&&(t=Kr(e,n),r=fs(r,zr(),s.snap.getChild(t)));else{if(!s.children)throw Ne("WriteRecord should have .snap or .children");if(Yr(n,e))t=Kr(n,e),r=ps(r,t,s.children);else if(Yr(e,n))if(t=Kr(e,n),Qr(t))r=ps(r,zr(),s.children);else{const e=Xe(s.children,Ur(t));if(e){const n=e.getChild(qr(t));r=fs(r,zr(),n)}}}}}return r}function Ts(e,t,n,r,i){if(r||i){const s=_s(e.visibleWrites,t);if(!i&&bs(s))return n;if(i||null!=n||gs(s,zr())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Yr(e.path,t)||Yr(t,e.path))};return ws(Ns(e.allWrites,s,t),n||Ti.EMPTY_NODE)}return null}{const r=ys(e.visibleWrites,t);if(null!=r)return r;{const r=_s(e.visibleWrites,t);if(bs(r))return n;if(null!=n||gs(r,zr())){return ws(r,n||Ti.EMPTY_NODE)}return null}}}function Is(e,t,n,r){return Ts(e.writeTree,e.treePath,t,n,r)}function Ps(e,t){return function(e,t,n){let r=Ti.EMPTY_NODE;const i=ys(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(bi,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=_s(e.visibleWrites,t);return n.forEachChild(bi,((e,t)=>{const n=ws(_s(i,new Fr(e)),t);r=r.updateImmediateChild(e,n)})),vs(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return vs(_s(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Rs(e,t,n,r){return function(e,t,n,r,i){Ee(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Vr(t,n);if(gs(e.visibleWrites,s))return null;{const t=_s(e.visibleWrites,s);return bs(t)?i.getChild(n):ws(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function js(e,t){return function(e,t){return ys(e.visibleWrites,t)}(e.writeTree,Vr(e.treePath,t))}function Os(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=_s(e.visibleWrites,t),c=ys(l,zr());if(null!=c)a=c;else{if(null==n)return[];a=ws(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function Ds(e,t,n){return function(e,t,n,r){const i=Vr(t,n),s=ys(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return ws(_s(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Ls(e,t){return As(Vr(e.treePath,t),e.writeTree)}function As(e,t){return{treePath:e,writeTree:t}}class Ms{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Ee("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ee(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ai(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Li(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Di(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ne("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ai(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Fs=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class zs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new ns(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ds(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:cs(this.viewCache_),i=Os(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Us(e,t,n,r,i){const s=new Ms;let o,a;if(n.type===Yi.OVERWRITE){const l=n;l.source.fromUser?o=Hs(e,t,l.path,l.snap,r,i,s):(Ee(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Qr(l.path),o=qs(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===Yi.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach(((r,l)=>{const c=Vr(n,r);$s(t,Ur(c))&&(a=Hs(e,a,c,l,i,s,o))})),r.foreach(((r,l)=>{const c=Vr(n,r);$s(t,Ur(c))||(a=Hs(e,a,c,l,i,s,o))})),a}(e,t,l.path,l.children,r,i,s):(Ee(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Vs(e,t,l.path,l.children,r,i,a,s))}else if(n.type===Yi.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=js(r,n))return t;{const a=new zs(r,t,i),l=t.eventCache.getNode();let c;if(Qr(n)||".priority"===Ur(n)){let n;if(t.serverCache.isFullyInitialized())n=Is(r,cs(t));else{const e=t.serverCache.getNode();Ee(e instanceof Ti,"serverChildren would be complete if leaf node"),n=Ps(r,e)}c=e.filter.updateFullNode(l,n,s)}else{const i=Ur(n);let u=Ds(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,qr(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Ti.EMPTY_NODE,qr(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Is(r,cs(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=js(r,zr()),os(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=js(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Qr(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return qs(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Qr(n)){let r=new hs(null);return l.getNode().forEachChild(ai,((e,t)=>{r=r.set(new Fr(e),t)})),Vs(e,t,n,r,i,s,a,o)}return t}{let c=new hs(null);return r.foreach(((e,t)=>{const r=Vr(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),Vs(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==Yi.LISTEN_COMPLETE)throw Ne("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=as(t,s.getNode(),s.isFullyInitialized()||Qr(n),s.isFiltered());return Bs(e,o,n,r,Fs,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ls(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Oi(ls(t)))}}(t,o,l),{viewCache:o,changes:l}}function Bs(e,t,n,r,i,s){const o=t.eventCache;if(null!=js(r,n))return t;{let a,l;if(Qr(n))if(Ee(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=cs(t),i=Ps(r,n instanceof Ti?n:Ti.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Is(r,cs(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=Ur(n);if(".priority"===c){Ee(1===Br(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=Rs(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=qr(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Rs(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=Ds(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return os(t,a,o.isFullyInitialized()||Qr(n),e.filter.filtersNodes())}}function qs(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Qr(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Ur(n);if(!l.isCompleteForPath(n)&&Br(n)>1)return t;const i=qr(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,Fs,null)}const h=as(t,c,l.isFullyInitialized()||Qr(n),u.filtersNodes());return Bs(e,h,n,i,new zs(i,h,s),a)}function Hs(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new zs(i,t,s);if(Qr(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=os(t,c,!0,e.filter.filtersNodes());else{const i=Ur(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=os(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=qr(n),c=a.getNode().getImmediateChild(i);let h;if(Qr(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===Hr(s)&&e.getChild(Wr(s)).isEmpty()?e:e.updateChild(s,r):Ti.EMPTY_NODE}if(c.equals(h))l=t;else{l=os(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function $s(e,t){return e.eventCache.isCompleteForChild(t)}function Ws(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Vs(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Qr(n)?r:new hs(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=Ws(0,t.serverCache.getNode().getImmediateChild(n),r);c=qs(e,c,new Fr(n),l,i,s,o,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Ws(0,t.serverCache.getNode().getImmediateChild(n),r);c=qs(e,c,new Fr(n),l,i,s,o,a)}})),c}class Qs{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Mi(n.getIndex()),i=(s=n).loadsAllData()?new Mi(s.getIndex()):s.hasLimit()?new zi(s):new Fi(s);var s;this.processor_=function(e){return{filter:e}}(i);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(Ti.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(Ti.EMPTY_NODE,a.getNode(),null),u=new ns(l,o.isFullyInitialized(),r.filtersNodes()),h=new ns(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=ss(h,u),this.eventGenerator_=new rs(this.query_)}get query(){return this.query_}}function Ks(e,t){const n=cs(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Qr(t)&&!n.getImmediateChild(Ur(t)).isEmpty())?n.getChild(t):null}function Gs(e){return 0===e.eventRegistrations_.length}function Ys(e,t,n){const r=[];if(n){Ee(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Xs(e,t,n,r){t.type===Yi.MERGE&&null!==t.source.queryId&&(Ee(cs(e.viewCache_),"We should always have a full cache before handling merges"),Ee(ls(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Us(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,Ee(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Ee(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Ee(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Js(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Js(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),is(e,i,"child_removed",t,r,n),is(e,i,"child_added",t,r,n),is(e,i,"child_moved",s,r,n),is(e,i,"child_changed",t,r,n),is(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Zs,eo;class to{constructor(){this.views=new Map}}function no(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return Ee(null!=s,"SyncTree gave us an op for an invalid query."),Xs(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(Xs(s,t,n,r));return i}}function ro(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=Is(n,i?r:null),s=!1;e?s=!0:r instanceof Ti?(e=Ps(n,r),s=!1):(e=Ti.EMPTY_NODE,s=!1);const o=ss(new ns(e,s,!1),new ns(r,i,!1));return new Qs(t,o)}return o}function io(e,t,n,r,i,s){const o=ro(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(bi,((e,t)=>{r.push(Di(e,t))}));return n.isFullyInitialized()&&r.push(Oi(n.getNode())),Js(e,r,n.getNode(),t)}(o,n)}function so(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=uo(e);if("default"===i)for(const[l,c]of e.views.entries())o=o.concat(Ys(c,n,r)),Gs(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(o=o.concat(Ys(t,n,r)),Gs(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!uo(e)&&s.push(new(Ee(Zs,"Reference.ts has not been loaded"),Zs)(t._repo,t._path)),{removed:s,events:o}}function oo(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ao(e,t){let n=null;for(const r of e.views.values())n=n||Ks(r,t);return n}function lo(e,t){if(t._queryParams.loadsAllData())return ho(e);{const n=t._queryIdentifier;return e.views.get(n)}}function co(e,t){return null!=lo(e,t)}function uo(e){return null!=ho(e)}function ho(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let fo=1;class po{constructor(e){this.listenProvider_=e,this.syncPointTree_=new hs(null),this.pendingWriteTree_={visibleWrites:ds.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mo(e,t,n,r,i){return function(e,t,n,r,i){Ee(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=fs(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ko(e,new es({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function go(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(xs(e.pendingWriteTree_,t)){let t=new hs(null);return null!=r.snap?t=t.set(zr(),!0):ar(r.children,(e=>{t=t.set(new Fr(e),!0)})),ko(e,new Ji(r.path,t,n))}return[]}function yo(e,t,n){return ko(e,new es({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function vo(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||co(o,t))){const l=so(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(s,((e,t)=>uo(t)));if(n&&!i){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&uo(t)){return[ho(t)]}{let e=[];return t&&(e=oo(t)),ar(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=So(e,r);e.listenProvider_.startListening(Ro(i),Eo(e,i),s.hashFn,s.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Ro(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(No(t));e.listenProvider_.stopListening(Ro(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=No(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function _o(e,t,n,r){const i=To(e,r);if(null!=i){const r=Io(i),s=r.path,o=r.queryId,a=Kr(s,t);return Po(e,s,new es(Xi(o),a,n))}return[]}function bo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=Kr(e,i);s=s||ao(t,n),o=o||uo(t)}));let a,l=e.syncPointTree_.get(i);if(l?(o=o||uo(l),s=s||ao(l,zr())):(l=new to,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=s)a=!0;else{a=!1,s=Ti.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=ao(t,zr());n&&(s=s.updateImmediateChild(e,n))}))}const c=co(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=No(t);Ee(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=fo++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=io(l,t,n,Cs(e.pendingWriteTree_,i),s,a);if(!c&&!o&&!r){const n=lo(l,t);u=u.concat(function(e,t,n){const r=t._path,i=Eo(e,t),s=So(e,n),o=e.listenProvider_.startListening(Ro(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)Ee(!uo(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!Qr(e)&&t&&uo(t))return[ho(t).query];{let e=[];return t&&(e=e.concat(oo(t).map((e=>e.query)))),ar(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Ro(r),Eo(e,r))}}return o}(e,t,n))}return u}function wo(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=ao(n,Kr(e,t));if(r)return r}));return Ts(r,t,i,n,!0)}function ko(e,t){return Co(t,e.syncPointTree_,null,Cs(e.pendingWriteTree_,zr()))}function Co(e,t,n,r){if(Qr(e.path))return xo(e,t,n,r);{const i=t.get(zr());null==n&&null!=i&&(n=ao(i,zr()));let s=[];const o=Ur(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=Ls(r,o);s=s.concat(Co(a,l,e,t))}return i&&(s=s.concat(no(i,e,r,n))),s}}function xo(e,t,n,r){const i=t.get(zr());null==n&&null!=i&&(n=ao(i,zr()));let s=[];return t.children.inorderTraversal(((t,i)=>{const o=n?n.getImmediateChild(t):null,a=Ls(r,t),l=e.operationForChild(t);l&&(s=s.concat(xo(l,i,o,a)))})),i&&(s=s.concat(no(i,e,r,n))),s}function So(e,t){const n=t.query,r=Eo(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Ti.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=To(e,n);if(r){const n=Io(r),i=n.path,s=n.queryId,o=Kr(i,t);return Po(e,i,new Zi(Xi(s),o))}return[]}(e,n._path,r):function(e,t){return ko(e,new Zi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return vo(e,n,null,r)}}}}function Eo(e,t){const n=No(t);return e.queryToTagMap.get(n)}function No(e){return e._path.toString()+"$"+e._queryIdentifier}function To(e,t){return e.tagToQueryMap.get(t)}function Io(e){const t=e.indexOf("$");return Ee(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Fr(e.substr(0,t))}}function Po(e,t,n){const r=e.syncPointTree_.get(t);Ee(r,"Missing sync point for query tag that we're tracking");return no(r,n,Cs(e.pendingWriteTree_,t),null)}function Ro(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ee(eo,"Reference.ts has not been loaded"),eo)(e._repo,e._path):e}class jo{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new jo(t)}node(){return this.node_}}class Oo{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Vr(this.path_,e);return new Oo(this.syncTree_,t)}node(){return wo(this.syncTree_,this.path_)}}const Do=function(e,t,n){return e&&"object"===typeof e?(Ee(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Lo(e[".sv"],t,n):"object"===typeof e[".sv"]?Ao(e[".sv"],t):void Ee(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Lo=function(e,t,n){if("timestamp"===e)return n.timestamp;Ee(!1,"Unexpected server value: "+e)},Ao=function(e,t,n){e.hasOwnProperty("increment")||Ee(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Ee(!1,"Unexpected increment value: "+r);const i=t.node();if(Ee(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},Mo=function(e,t,n,r){return zo(t,new Oo(n,e),r)},Fo=function(e,t,n){return zo(e,new jo(t),n)};function zo(e,t,n){const r=e.getPriority().val(),i=Do(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Do(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new _i(s,Pi(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new _i(i))),r.forEachChild(bi,((e,r)=>{const i=zo(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))})),s}}class Uo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Bo(e,t){let n=t instanceof Fr?t:new Fr(t),r=e,i=Ur(n);for(;null!==i;){const e=Xe(r.node.children,i)||{children:{},childCount:0};r=new Uo(i,r,e),n=qr(n),i=Ur(n)}return r}function qo(e){return e.node.value}function Ho(e,t){e.node.value=t,Ko(e)}function $o(e){return e.node.childCount>0}function Wo(e,t){ar(e.node.children,((n,r)=>{t(new Uo(n,e,r))}))}function Vo(e,t,n,r){n&&!r&&t(e),Wo(e,(e=>{Vo(e,t,!0,r)})),n&&r&&t(e)}function Qo(e){return new Fr(null===e.parent?e.name:Qo(e.parent)+"/"+e.name)}function Ko(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===qo(e)&&!$o(e)}(n),i=Ye(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Ko(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Ko(e))}(e.parent,e.name,e)}const Go=/[\[\].#$\/\u0000-\u001F\u007F]/,Yo=/[\[\].#$\u0000-\u001F\u007F]/,Xo=10485760,Jo=function(e){return"string"===typeof e&&0!==e.length&&!Go.test(e)},Zo=function(e){return"string"===typeof e&&0!==e.length&&!Yo.test(e)},ea=function(e,t,n,r){r&&void 0===t||ta(rt(e,"value"),t,n)},ta=function(e,t,n){const r=n instanceof Fr?new Xr(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Zr(r));if("function"===typeof t)throw new Error(e+"contains a function "+Zr(r)+" with contents = "+t.toString());if(Zn(t))throw new Error(e+"contains "+t.toString()+" "+Zr(r));if("string"===typeof t&&t.length>Xo/3&&it(t)>Xo)throw new Error(e+"contains a string greater than "+Xo+" utf8 bytes "+Zr(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(ar(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Jo(t)))throw new Error(e+" contains an invalid key ("+t+") "+Zr(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=it(t),Jr(e)}(r,t),ta(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=it(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Zr(r)+" in addition to actual children.")}},na=function(e,t,n,r){if((!r||void 0!==n)&&!Zo(n))throw new Error(rt(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ra=function(e,t){if(".info"===Ur(t))throw new Error(e+" failed = Can't modify data under /.info/")},ia=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Jo(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Zo(e)}(n))throw new Error(rt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class sa{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oa(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||Gr(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function aa(e,t,n){oa(e,n),ca(e,(e=>Gr(e,t)))}function la(e,t,n){oa(e,n),ca(e,(e=>Yr(e,t)||Yr(t,e)))}function ca(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(ua(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function ua(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Wn&&Kn("event: "+n.toString()),hr(r)}}}const ha="repo_interrupt";class da{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sa,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wi(),this.transactionQueueTree_=new Uo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fa(e,t,n){if(e.stats_=Er(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Hi(e.repoInfo_,((t,n,r,i)=>{ga(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>ya(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new ni(e.repoInfo_,t,((t,n,r,i)=>{ga(e,t,n,r,i)}),(t=>{ya(e,t)}),(t=>{!function(e,t){ar(t,((t,n)=>{va(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Sr[n]||(Sr[n]=t()),Sr[n]}(e.repoInfo_,(()=>new Gi(e.stats_,e.server_))),e.infoData_=new $i,e.infoSyncTree_=new po({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=yo(e.infoSyncTree_,t._path,o),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),va(e,"connected",!1),e.serverSyncTree_=new po({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const s=i(n,r);la(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function pa(e){const t=e.infoData_.getNode(new Fr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ma(e){return(t=(t={timestamp:pa(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ga(e,t,n,r,i){e.dataUpdateCount++;const s=new Fr(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=Ze(n,(e=>Pi(e)));o=function(e,t,n,r){const i=To(e,r);if(i){const r=Io(i),s=r.path,o=r.queryId,a=Kr(s,t),l=hs.fromObject(n);return Po(e,s,new ts(Xi(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=Pi(n);o=_o(e.serverSyncTree_,s,t,i)}else if(r){const t=Ze(n,(e=>Pi(e)));o=function(e,t,n){const r=hs.fromObject(n);return ko(e,new ts({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=Pi(n);o=yo(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=Na(e,s)),la(e.eventQueue_,a,o)}function ya(e,t){va(e,"connected",t),!1===t&&function(e){Ca(e,"onDisconnectEvents");const t=ma(e),n=Wi();Qi(e.onDisconnect_,zr(),((r,i)=>{const s=Mo(r,i,e.serverSyncTree_,t);Vi(n,r,s)}));let r=[];Qi(n,zr(),((t,n)=>{r=r.concat(yo(e.serverSyncTree_,t,n));const i=ja(e,t);Na(e,i)})),e.onDisconnect_=Wi(),la(e.eventQueue_,zr(),r)}(e)}function va(e,t,n){const r=new Fr("/.info/"+t),i=Pi(n);e.infoData_.updateSnapshot(r,i);const s=yo(e.infoSyncTree_,r,i);la(e.eventQueue_,r,s)}function _a(e){return e.nextWriteId_++}function ba(e,t,n,r,i){Ca(e,"set",{path:t.toString(),value:n,priority:r});const s=ma(e),o=Pi(n,r),a=wo(e.serverSyncTree_,t),l=Fo(o,a,s),c=_a(e),u=mo(e.serverSyncTree_,t,l,c,!0);oa(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),((n,r)=>{const s="ok"===n;s||Jn("set at "+t+" failed: "+n);const o=go(e.serverSyncTree_,c,!s);la(e.eventQueue_,t,o),xa(e,i,n,r)}));const h=ja(e,t);Na(e,h),la(e.eventQueue_,h,[])}function wa(e,t,n){let r;r=".info"===Ur(t._path)?vo(e.infoSyncTree_,t,n):vo(e.serverSyncTree_,t,n),aa(e.eventQueue_,t._path,r)}function ka(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ha)}function Ca(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Kn(t,...r)}function xa(e,t,n,r){t&&hr((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}}))}function Sa(e,t,n){return wo(e.serverSyncTree_,t,n)||Ti.EMPTY_NODE}function Ea(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ra(e,t),qo(t)){const n=Ia(e,t);Ee(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=Sa(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Ee(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Kr(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{Ca(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(go(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Ra(e,Bo(e.transactionQueueTree_,t)),Ea(e,e.transactionQueueTree_),la(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)hr(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Jn("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Na(e,t)}}),o)}(e,Qo(t),n)}else $o(t)&&Wo(t,(t=>{Ea(e,t)}))}function Na(e,t){const n=Ta(e,t),r=Qo(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)),o=s.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const s=t[l],c=Kr(n,s.path);let u,h=!1;if(Ee(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,u=s.abortReason,i=i.concat(go(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)h=!0,u="maxretry",i=i.concat(go(e.serverSyncTree_,s.currentWriteId,!0));else{const n=Sa(e,s.path,o);s.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){ta("transaction failed: Data returned ",r,s.path);let t=Pi(r);"object"===typeof r&&null!=r&&Ye(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=ma(e),c=Fo(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=_a(e),o.splice(o.indexOf(a),1),i=i.concat(mo(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(go(e.serverSyncTree_,a,!0))}else h=!0,u="nodata",i=i.concat(go(e.serverSyncTree_,s.currentWriteId,!0))}la(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;Ra(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)hr(r[l]);Ea(e,e.transactionQueueTree_)}(e,Ia(e,n),r),r}function Ta(e,t){let n,r=e.transactionQueueTree_;for(n=Ur(t);null!==n&&void 0===qo(r);)r=Bo(r,n),n=Ur(t=qr(t));return r}function Ia(e,t){const n=[];return Pa(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Pa(e,t,n){const r=qo(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Wo(t,(t=>{Pa(e,t,n)}))}function Ra(e,t){const n=qo(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ho(t,n.length>0?n:void 0)}Wo(t,(t=>{Ra(e,t)}))}function ja(e,t){const n=Qo(Ta(e,t)),r=Bo(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Oa(e,t)})),Oa(e,r),Vo(r,(t=>{Oa(e,t)})),n}function Oa(e,t){const n=qo(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Ee(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(Ee(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(go(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Ho(t,void 0):n.length=s+1,la(e.eventQueue_,Qo(t),i);for(let e=0;e<r.length;e++)hr(r[e])}}const Da=function(e,t){const n=La(e),r=n.namespace;"firebase.com"===n.domain&&Xn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Jn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new wr(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Fr(n.pathString)}},La=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Jn(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},Aa="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ma=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Aa.charAt(n%64),n=Math.floor(n/64);Ee(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=Aa.charAt(t[i]);return Ee(20===o.length,"nextPushId: Length should be 20."),o}}();class Fa{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class za{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ua{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Ee(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Ba{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Qr(this._path)?null:Hr(this._path)}get ref(){return new qa(this._repo,this._path)}get _queryIdentifier(){const e=qi(this._queryParams),t=sr(e);return"{}"===t?"default":t}get _queryObject(){return qi(this._queryParams)}isEqual(e){if(!((e=st(e))instanceof Ba))return!1;const t=this._repo===e._repo,n=Gr(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class qa extends Ba{constructor(e,t){super(e,t,new Ui,!1)}get parent(){const e=Wr(this._path);return null===e?null:new qa(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ha{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Fr(e),n=Wa(this.ref,e);return new Ha(this._node.getChild(t),n,bi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new Ha(n,Wa(this.ref,t),bi))))}hasChild(e){const t=new Fr(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $a(e,t){return(e=st(e))._checkNotDeleted("ref"),void 0!==t?Wa(e._root,t):e._root}function Wa(e,t){var n,r,i,s;return null===Ur((e=st(e))._path)?(n="child",r="path",s=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),na(n,r,i,s)):na("child","path",t,!1),new qa(e._repo,Vr(e._path,t))}function Va(e,t){e=st(e),ra("set",e._path),ea("set",t,e._path,!1);const n=new Ue;return ba(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}class Qa{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Fa("value",this,new Ha(e.snapshotNode,new qa(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new za(this,e,t):null}matches(e){return e instanceof Qa&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ka{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new za(this,e,t):null}createEvent(e,t){Ee(null!=e.childName,"Child events should have a childName.");const n=Wa(new qa(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Fa(e.type,this,new Ha(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ka&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Ga(e,t,n,r,i){let s;if("object"===typeof r&&(s=void 0,i=r),"function"===typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{wa(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new Ua(n,s||void 0),a="value"===t?new Qa(o):new Ka(t,o);return function(e,t,n){let r;r=".info"===Ur(t._path)?bo(e.infoSyncTree_,t,n):bo(e.serverSyncTree_,t,n),aa(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>wa(e._repo,e,a)}function Ya(e,t,n,r){return Ga(e,"value",t,n,r)}!function(e){Ee(!Zs,"__referenceConstructor has already been defined"),Zs=e}(qa),function(e){Ee(!eo,"__referenceConstructor has already been defined"),eo=e}(qa);const Xa={};let Ja=!1;function Za(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||Xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kn("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=Da(s,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=`http://${a}?ns=${c.namespace}`,l=Da(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new mr(mr.OWNER):new pr(e.name,e.options,t);ia("Invalid Firebase Database URL",l),Qr(l.path)||Xn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=Xa[t.name];i||(i={},Xa[t.name]=i);let s=i[e.toURLString()];s&&Xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new da(e,Ja,n,r),i[e.toURLString()]=s,s}(c,e,u,new fr(e,n));return new el(h,e)}class el{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fa(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qa(this._repo,zr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Xa[t];n&&n[e.key]===e||Xn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),ka(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Xn("Cannot call "+e+" on a deleted database.")}}ni.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ni.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Ln("11.6.1"),gn(new ot("database",((e,t)=>{let{instanceIdentifier:n}=t;return Za(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),wn(jn,On,e),wn(jn,On,"esm2017")}();const tl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un;const t=dn.get(e);if(!t&&e===un&&ze())return bn();if(!t)throw vn.create("no-app",{appName:e});return t}(),t=arguments.length>1?arguments[1]:void 0;const n=yn(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Fe("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=st(e),e._checkNotDeleted("useEmulator");const i=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&et(r,s.repoInfo_.emulatorOptions))return;Xn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new mr(mr.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new mr(t)}!function(e,t,n,r){e.repoInfo_=new wr(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(s,i,r,o)}(n,...e)}return n}(bn({apiKey:"AIzaSyCqV6hHh7ZrY3z5A80pbF0AQYgA8DpQoF0",authDomain:"muksafoodchain.firebaseapp.com",databaseURL:"https://muksafoodchain-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"muksafoodchain",storageBucket:"muksafoodchain.firebasestorage.app",messagingSenderId:"878874359727",appId:"1:878874359727:web:ae8a78d8cc7cc505f1215a"}));async function nl(e,t){try{const n=function(e,t){e=st(e),ra("push",e._path),ea("push",t,e._path,!0);const n=pa(e._repo),r=Ma(n),i=Wa(e,r),s=Wa(e,r);let o;return o=null!=t?Va(s,t).then((()=>s)):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}($a(tl,"rooms")),r={name:e,host:t,players:[{id:"host",name:t,isHost:!0,isReady:!1}],createdAt:Date.now()};return await Va(n,r),console.log("Firebase \ubc29 \uc0dd\uc131 \uc644\ub8cc:",n.key),n.key}catch(Yn){throw console.error("Firebase \ubc29 \uc0dd\uc131 \uc624\ub958:",Yn),Yn}}const rl=()=>{const{gameState:e}=(0,s.useContext)(be),t=e.playerName,n=te(),[r,i]=(0,s.useState)([]),[o,a]=(0,s.useState)(!0);(0,s.useEffect)((()=>{const e=Ya($a(tl,"rooms"),(async e=>{const t=e.val();if(t){const e=Object.entries(t).map((e=>{let[t,n]=e;return{id:t,...n}})),n=await Promise.all(e.map((async e=>{if(0===(e.players?e.players.length:0))try{return await function(e){return ra("remove",e._path),Va(e,null)}($a(tl,`rooms/${e.id}`)),console.log(`\ud50c\ub808\uc774\uc5b4 0\uba85\uc774\ub77c \ubc29 \uc0ad\uc81c\ub428: ${e.name}`),null}catch(Yn){return console.error("\ubc29 \uc0ad\uc81c \uc2e4\ud328:",Yn),e}return e})));i(n.filter((e=>null!==e)))}else i([]);a(!1)}));return()=>e()}),[]);return(0,we.jsxs)("div",{className:"lobby-container",children:[(0,we.jsx)("h2",{children:"\ub85c\ube44"}),(0,we.jsx)("div",{className:"lobby-actions",children:(0,we.jsx)("button",{className:"primary",onClick:async()=>{if(t)try{const e=prompt("\uc0dd\uc131\ud560 \ubc29 \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694.");if(e){const r=await nl(e,t);n(`/game/${r}`)}}catch(Yn){console.error("\ubc29 \uc0dd\uc131 \uc2e4\ud328:",Yn),alert("\ubc29 \uc0dd\uc131 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}else alert("\ud50c\ub808\uc774\uc5b4 \uc774\ub984\uc744 \uba3c\uc800 \uc785\ub825\ud558\uc138\uc694.")},children:"\uc0c8 \ubc29 \ub9cc\ub4e4\uae30"})}),(0,we.jsx)("div",{className:"room-list",children:o?(0,we.jsx)("p",{children:"\ubc29 \ubaa9\ub85d \ubd88\ub7ec\uc624\ub294 \uc911..."}):r.length>0?(0,we.jsx)("div",{className:"room-cards",children:r.map((e=>{const t=e.players?e.players.length:0,r=t>=13;return(0,we.jsxs)("div",{className:"room-card "+(r?"full":""),onClick:()=>{return!r&&(t=e.id,void n(`/game/${t}`));var t},style:{cursor:r?"not-allowed":"pointer"},children:[(0,we.jsx)("div",{className:"room-name",children:e.name}),(0,we.jsxs)("div",{className:"room-players",children:[t," / ",13," \uba85"]}),(0,we.jsxs)("div",{className:"room-host",children:["\ubc29\uc7a5: ",e.host]})]},e.id)}))}):(0,we.jsx)("p",{children:"\uc0dd\uc131\ub41c \ubc29\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})]})},il=Object.create(null);il.open="0",il.close="1",il.ping="2",il.pong="3",il.message="4",il.upgrade="5",il.noop="6";const sl=Object.create(null);Object.keys(il).forEach((e=>{sl[il[e]]=e}));const ol={type:"error",data:"parser error"},al="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ll="function"===typeof ArrayBuffer,cl=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ul=(e,t,n)=>{let{type:r,data:i}=e;return al&&i instanceof Blob?t?n(i):hl(i,n):ll&&(i instanceof ArrayBuffer||cl(i))?t?n(i):hl(new Blob([i]),n):n(il[r]+(i||""))},hl=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function dl(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let fl;const pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ml="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let hu=0;hu<64;hu++)ml[pl.charCodeAt(hu)]=hu;const gl="function"===typeof ArrayBuffer,yl=(e,t)=>{if("string"!==typeof e)return{type:"message",data:_l(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:vl(e.substring(1),t)};return sl[n]?e.length>1?{type:sl[n],data:e.substring(1)}:{type:sl[n]}:ol},vl=(e,t)=>{if(gl){const n=(e=>{let t,n,r,i,s,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const c=new ArrayBuffer(o),u=new Uint8Array(c);for(t=0;t<a;t+=4)n=ml[e.charCodeAt(t)],r=ml[e.charCodeAt(t+1)],i=ml[e.charCodeAt(t+2)],s=ml[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&s;return c})(e);return _l(n,t)}return{base64:!0,data:e}},_l=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,bl=String.fromCharCode(30);function wl(){return new TransformStream({transform(e,t){!function(e,t){al&&e.data instanceof Blob?e.data.arrayBuffer().then(dl).then(t):ll&&(e.data instanceof ArrayBuffer||cl(e.data))?t(dl(e.data)):ul(e,!1,(e=>{fl||(fl=new TextEncoder),t(fl.encode(e))}))}(e,(n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)}))}})}let kl;function Cl(e){return e.reduce(((e,t)=>e+t.length),0)}function xl(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Sl(e){if(e)return function(e){for(var t in Sl.prototype)e[t]=Sl.prototype[t];return e}(e)}Sl.prototype.on=Sl.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Sl.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Sl.prototype.off=Sl.prototype.removeListener=Sl.prototype.removeAllListeners=Sl.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Sl.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},Sl.prototype.emitReserved=Sl.prototype.emit,Sl.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Sl.prototype.hasListeners=function(e){return!!this.listeners(e).length};const El="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Nl="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Tl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Il=Nl.setTimeout,Pl=Nl.clearTimeout;function Rl(e,t){t.useNativeTimers?(e.setTimeoutFn=Il.bind(Nl),e.clearTimeoutFn=Pl.bind(Nl)):(e.setTimeoutFn=Nl.setTimeout.bind(Nl),e.clearTimeoutFn=Nl.clearTimeout.bind(Nl))}function jl(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Ol extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Dl extends Sl{constructor(e){super(),this.writable=!1,Rl(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new Ol(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=yl(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class Ll extends Dl{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(bl),r=[];for(let i=0;i<n.length;i++){const e=yl(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach(((e,s)=>{ul(e,!1,(e=>{r[s]=e,++i===n&&t(r.join(bl))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=jl()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Al=!1;try{Al="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(cu){}const Ml=Al;function Fl(){}class zl extends Ll{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class Ul extends Sl{constructor(e,t,n){super(),this.createRequest=e,Rl(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=Tl(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(r){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(r){return void this.setTimeoutFn((()=>{this._onError(r)}),0)}"undefined"!==typeof document&&(this._index=Ul.requestsCount++,Ul.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Fl,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete Ul.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Ul.requestsCount=0,Ul.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Bl);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Nl?"pagehide":"unload",Bl,!1)}function Bl(){for(let e in Ul.requests)Ul.requests.hasOwnProperty(e)&&Ul.requests[e].abort()}const ql=function(){const e=Hl({xdomain:!1});return e&&null!==e.responseType}();function Hl(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Ml))return new XMLHttpRequest}catch(n){}if(!t)try{return new(Nl[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}const $l="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Wl extends Dl{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=$l?{}:Tl(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(cu){return this.emitReserved("error",cu)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;ul(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(t){}r&&El((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=jl()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Vl=Nl.WebSocket||Nl.MozWebSocket;const Ql={websocket:class extends Wl{createSocket(e,t,n){return $l?new Vl(e,t,n):t?new Vl(e,t):new Vl(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Dl{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(cu){return this.emitReserved("error",cu)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){kl||(kl=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(0===r){if(Cl(n)<1)break;const e=xl(n,1);s=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(Cl(n)<2)break;const e=xl(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Cl(n)<8)break;const e=xl(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){a.enqueue(ol);break}i=s*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Cl(n)<i)break;const e=xl(n,i);a.enqueue(yl(s?e:kl.decode(e),t)),r=0}if(0===i||i>e){a.enqueue(ol);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=wl();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())})).catch((e=>{}))};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then((()=>{r&&El((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends zl{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=ql&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new Ul(Hl,this.uri(),e)}}},Kl=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Gl=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Yl(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Kl.exec(e||""),s={},o=14;for(;o--;)s[Gl[o]]=i[o]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,s.query),s}const Xl="function"===typeof addEventListener&&"function"===typeof removeEventListener,Jl=[];Xl&&addEventListener("offline",(()=>{Jl.forEach((e=>e()))}),!1);class Zl extends Sl{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=Yl(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Yl(t.host).host);Rl(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Xl&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Jl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&Zl.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",Zl.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,El((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(Zl.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Xl&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Jl.indexOf(this._offlineEventListener);-1!==e&&Jl.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Zl.protocol=4;class ec extends Zl{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Zl.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Zl.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,c(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function o(){s("transport closed")}function a(){s("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",o),this.off("close",a),this.off("upgrading",l)};t.once("open",r),t.once("error",s),t.once("close",o),this.once("close",a),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class tc extends ec{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>Ql[e])).filter((e=>!!e))),super(e,t)}}const nc="function"===typeof ArrayBuffer,rc=Object.prototype.toString,ic="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===rc.call(Blob),sc="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===rc.call(File);function oc(e){return nc&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||ic&&e instanceof Blob||sc&&e instanceof File}function ac(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(ac(e[t]))return!0;return!1}if(oc(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return ac(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ac(e[n]))return!0;return!1}function lc(e){const t=[],n=e.data,r=e;return r.data=cc(n,t),r.attachments=t.length,{packet:r,buffers:t}}function cc(e,t){if(!e)return e;if(oc(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=cc(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=cc(e[r],t));return n}return e}function uc(e,t){return e.data=hc(e.data,t),delete e.attachments,e}function hc(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=hc(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=hc(e[n],t));return e}const dc=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],fc=5;var pc;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(pc||(pc={}));class mc{constructor(e){this.replacer=e}encode(e){return e.type!==pc.EVENT&&e.type!==pc.ACK||!ac(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===pc.EVENT?pc.BINARY_EVENT:pc.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==pc.BINARY_EVENT&&e.type!==pc.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=lc(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function gc(e){return"[object Object]"===Object.prototype.toString.call(e)}class yc extends Sl{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===pc.BINARY_EVENT;n||t.type===pc.BINARY_ACK?(t.type=n?pc.EVENT:pc.ACK,this.reconstructor=new vc(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!oc(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===pc[n.type])throw new Error("unknown packet type "+n.type);if(n.type===pc.BINARY_EVENT||n.type===pc.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!yc.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case pc.CONNECT:return gc(t);case pc.DISCONNECT:return void 0===t;case pc.CONNECT_ERROR:return"string"===typeof t||gc(t);case pc.EVENT:case pc.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===dc.indexOf(t[0]));case pc.ACK:case pc.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class vc{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=uc(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function _c(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const bc=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class wc extends Sl{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[_c(e,"open",this.onopen.bind(this)),_c(e,"packet",this.onpacket.bind(this)),_c(e,"error",this.onerror.bind(this)),_c(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(bc.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const a={type:pc.EVENT,data:s,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),a.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),i),o=function(){r.io.clearTimeoutFn(s);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};o.withError=!0,this.acks[e]=o}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const i=(e,n)=>e?r(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];n(null,...s)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:pc.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case pc.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pc.EVENT:case pc.BINARY_EVENT:this.onevent(e);break;case pc.ACK:case pc.BINARY_ACK:this.onack(e);break;case pc.DISCONNECT:this.ondisconnect();break;case pc.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];t.packet({type:pc.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pc.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function kc(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}kc.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},kc.prototype.reset=function(){this.attempts=0},kc.prototype.setMin=function(e){this.ms=e},kc.prototype.setMax=function(e){this.max=e},kc.prototype.setJitter=function(e){this.jitter=e};class Cc extends Sl{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Rl(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new kc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new tc(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=_c(t,"open",(function(){n.onopen(),e&&e()})),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=_c(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),i(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(_c(e,"ping",this.onping.bind(this)),_c(e,"data",this.ondata.bind(this)),_c(e,"error",this.onerror.bind(this)),_c(e,"close",this.onclose.bind(this)),_c(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){El((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new wc(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const xc={};function Sc(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=Yl(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=xc[i]&&s in xc[i].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?a=new Cc(r,t):(xc[i]||(xc[i]=new Cc(r,t)),a=xc[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Sc,{Manager:Cc,Socket:wc,io:Sc,connect:Sc});const Ec=(0,s.createContext)({socket:null,isConnected:!1,socketId:null,connect:()=>{},disconnect:()=>{},reconnect:()=>{},setSocket:()=>{}}),Nc=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(null),[i,o]=(0,s.useState)(!1),[a,l]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=Sc("https://muksa-qian.onrender.com",{withCredentials:!0,transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,timeout:2e4}),t=()=>{console.log("[Socket] \uc5f0\uacb0\ub428:",e.id),o(!0),l(e.id)},n=e=>{console.error("[Socket] \uc5f0\uacb0 \uc624\ub958:",e),o(!1)},i=t=>{console.log("[Socket] \uc5f0\uacb0 \ud574\uc81c\ub428:",t),o(!1),"io server disconnect"!==t&&"transport close"!==t||(console.log("[Socket] \uc790\ub3d9 \uc7ac\uc5f0\uacb0 \uc2dc\ub3c4..."),setTimeout((()=>{e.connect()}),2e3))},s=e=>{console.log(`[Socket] \uc7ac\uc5f0\uacb0 \uc131\uacf5 (${e}\ud68c \uc2dc\ub3c4)`),o(!0)};return e.on("connect",t),e.on("connect_error",n),e.on("disconnect",i),e.on("reconnect",s),r(e),()=>{console.log("[Socket] \uc18c\ucf13 \uc815\ub9ac"),e.off("connect",t),e.off("connect_error",n),e.off("disconnect",i),e.off("reconnect",s),e.disconnect()}}),[]);const c=(0,s.useCallback)((()=>{n&&!n.connected&&(console.log("[Socket] \uc218\ub3d9 \uc5f0\uacb0 \uc2dc\ub3c4"),n.connect())}),[n]),u=(0,s.useCallback)((()=>{n&&n.connected&&(console.log("[Socket] \uc218\ub3d9 \uc5f0\uacb0 \ud574\uc81c"),n.disconnect())}),[n]),h=(0,s.useCallback)((()=>{n&&(console.log("[Socket] \uc218\ub3d9 \uc7ac\uc5f0\uacb0 \uc2dc\ub3c4"),n.disconnect(),setTimeout((()=>{n.connect()}),500))}),[n]),d=(0,s.useCallback)((e=>{n&&n!==e&&n.disconnect(),r(e)}),[n]),f={socket:n,isConnected:i,socketId:a,connect:c,disconnect:u,reconnect:h,setSocket:d};return(0,we.jsx)(Ec.Provider,{value:f,children:t})},Tc=Ec,Ic=(0,s.memo)((e=>{var t,n;let{currentRound:r,currentPhase:i,selectedLocation:o,onLocationSelect:a,players:l,selectedAction:c,targetPlayer:u,onTargetSelect:h}=e;const d=(0,s.useMemo)((()=>[{id:"\uac15",name:"\uac15",icon:"\ud83c\udf0a",className:"habitat-river"},{id:"\ud558\ub298",name:"\ud558\ub298",icon:"\u2601\ufe0f",className:"habitat-sky"},{id:"\ub4e4",name:"\ub4e4",icon:"\ud83c\udf3e",className:"habitat-field"},{id:"\uc232",name:"\uc232",icon:"\ud83c\udf33",className:"habitat-forest"}]),[]),f=(0,s.useMemo)((()=>{if(!c)return(0,we.jsxs)("div",{className:"board-message fade-in",children:[(0,we.jsx)("div",{className:"message-icon",children:"\u2753"}),(0,we.jsx)("p",{children:"\ud589\ub3d9\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."})]});if("move"===c)return(0,we.jsxs)("div",{className:"habitat-selection fade-in",children:[(0,we.jsxs)("div",{className:"section-header",children:[(0,we.jsx)("div",{className:"section-icon",children:"\ud83d\udeb6"}),(0,we.jsx)("h3",{children:"\uc774\ub3d9\ud560 \uc11c\uc2dd\uc9c0\ub97c \uc120\ud0dd\ud558\uc138\uc694"})]}),(0,we.jsx)("div",{className:"habitat-grid",children:d.map((e=>(0,we.jsxs)("div",{className:`habitat-card ${e.className} ${o===e.id?"selected":""}`,onClick:()=>a(e.id),children:[(0,we.jsx)("div",{className:"habitat-icon",children:e.icon}),(0,we.jsx)("h4",{children:e.name}),(0,we.jsx)("div",{className:"habitat-info",children:(0,we.jsxs)("span",{className:"player-count",children:["\ud604\uc7ac \ud50c\ub808\uc774\uc5b4: ",l.filter((t=>t.location===e.id)).length,"\uba85"]})})]},e.id)))})]});if("attack"===c){const e=l.filter((e=>"1"!==e.id&&e.location===o));return(0,we.jsxs)("div",{className:"player-selection fade-in",children:[(0,we.jsxs)("div",{className:"section-header",children:[(0,we.jsx)("div",{className:"section-icon",children:"\u2694\ufe0f"}),(0,we.jsx)("h3",{children:"\uacf5\uaca9\ud560 \ud50c\ub808\uc774\uc5b4\ub97c \uc120\ud0dd\ud558\uc138\uc694"})]}),e.length>0?(0,we.jsx)("div",{className:"player-grid",children:e.map((e=>(0,we.jsxs)("div",{className:"player-card "+(u&&u.id===e.id?"selected":""),onClick:()=>h(e),children:[(0,we.jsx)("div",{className:"player-avatar",children:e.name.charAt(0).toUpperCase()}),(0,we.jsxs)("div",{className:"player-info",children:[(0,we.jsx)("h4",{children:e.name}),(0,we.jsxs)("p",{className:"player-animal",children:["\ub3d9\ubb3c: ",e.animal||"???"]})]}),(0,we.jsx)("div",{className:"action-indicator",children:u&&u.id===e.id&&(0,we.jsx)("span",{className:"attack-icon",children:"\u2694\ufe0f"})})]},e.id)))}):(0,we.jsxs)("div",{className:"empty-state",children:[(0,we.jsx)("div",{className:"empty-icon",children:"\ud83d\udd0d"}),(0,we.jsx)("p",{className:"no-players-message",children:"\uc774 \uc11c\uc2dd\uc9c0\uc5d0\ub294 \ub2e4\ub978 \ud50c\ub808\uc774\uc5b4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})]})}if("peek"===c){const e=l.filter((e=>"1"!==e.id));return(0,we.jsxs)("div",{className:"player-selection fade-in",children:[(0,we.jsxs)("div",{className:"section-header",children:[(0,we.jsx)("div",{className:"section-icon",children:"\ud83d\udc41\ufe0f"}),(0,we.jsx)("h3",{children:"\uc5ff\ubcfc \ud50c\ub808\uc774\uc5b4\ub97c \uc120\ud0dd\ud558\uc138\uc694"})]}),e.length>0?(0,we.jsx)("div",{className:"player-grid",children:e.map((e=>(0,we.jsxs)("div",{className:"player-card "+(u&&u.id===e.id?"selected":""),onClick:()=>h(e),children:[(0,we.jsx)("div",{className:"player-avatar",children:e.name.charAt(0).toUpperCase()}),(0,we.jsxs)("div",{className:"player-info",children:[(0,we.jsx)("h4",{children:e.name}),u&&u.id===e.id&&u.peekedAnimal?(0,we.jsxs)("p",{className:"player-animal revealed",children:["\ub3d9\ubb3c: ",u.peekedAnimal]}):(0,we.jsx)("p",{className:"player-animal hidden",children:"\ub3d9\ubb3c: ???"})]}),(0,we.jsx)("div",{className:"action-indicator",children:u&&u.id===e.id&&(0,we.jsx)("span",{className:"peek-icon",children:"\ud83d\udc41\ufe0f"})})]},e.id)))}):(0,we.jsxs)("div",{className:"empty-state",children:[(0,we.jsx)("div",{className:"empty-icon",children:"\ud83d\udd0d"}),(0,we.jsx)("p",{className:"no-players-message",children:"\uc5ff\ubcfc \uc218 \uc788\ub294 \ud50c\ub808\uc774\uc5b4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})]})}return null}),[c,d,o,l,u,a,h]);return(0,we.jsxs)("div",{className:"game-board-container",children:[(0,we.jsxs)("div",{className:"game-board-header",children:[(0,we.jsx)("h2",{children:"\uac8c\uc784 \ubcf4\ub4dc"}),(0,we.jsxs)("div",{className:"round-indicator",children:[(0,we.jsx)("div",{className:"round-icon",children:"\ud83d\udd04"}),(0,we.jsxs)("span",{children:["\ub77c\uc6b4\ub4dc: ",r,"/4"]})]})]}),(0,we.jsx)("div",{className:"game-board-content",children:f}),(0,we.jsx)("div",{className:"game-board-footer",children:(0,we.jsx)("div",{className:"location-info",children:o&&(0,we.jsxs)("div",{className:`current-location ${null===(t=d.find((e=>e.id===o)))||void 0===t?void 0:t.className}`,children:[(0,we.jsx)("span",{className:"location-label",children:"\ud604\uc7ac \uc704\uce58:"}),(0,we.jsxs)("span",{className:"location-value",children:[null===(n=d.find((e=>e.id===o)))||void 0===n?void 0:n.icon," ",o]})]})})})]})})),Pc={"\uc0ac\uc790":{tier:"Tier 5",tierClass:"tier-5"},"\uc545\uc5b4":{tier:"Tier 4",tierClass:"tier-4"},"\ub3c5\uc218\ub9ac":{tier:"Tier 3",tierClass:"tier-3"},"\ud558\uc774\uc5d0\ub098":{tier:"Tier 4",tierClass:"tier-4"},"\ubc40":{tier:"Tier 5",tierClass:"tier-5"},"\uce74\uba5c\ub808\uc628":{tier:"Tier 5",tierClass:"tier-5"},"\uae4c\ub9c8\uadc0":{tier:"Tier 5",tierClass:"tier-5"},"\uc545\uc5b4\uc0c8":{tier:"Tier 5",tierClass:"tier-5"},"\uc0ac\uc2b4":{tier:"Tier 5",tierClass:"tier-5"},"\uc218\ub2ec":{tier:"Tier 5",tierClass:"tier-5"},"\uccad\ub465\uc624\ub9ac":{tier:"Tier 5",tierClass:"tier-5"},"\ud1a0\ub07c":{tier:"Tier 5",tierClass:"tier-5"},"\uc950":{tier:"Tier 5",tierClass:"tier-5"}},Rc={"\uc0ac\uc790":{habitat:"\ub4e4",habitatClass:"habitat-field"},"\uc545\uc5b4":{habitat:"\uac15",habitatClass:"habitat-river"},"\ub3c5\uc218\ub9ac":{habitat:"\ud558\ub298",habitatClass:"habitat-sky"},"\ud558\uc774\uc5d0\ub098":{habitat:"\ub4e4",habitatClass:"habitat-field"},"\ubc40":{habitat:"\uc232",habitatClass:"habitat-forest"},"\uce74\uba5c\ub808\uc628":{habitat:"\uc232",habitatClass:"habitat-forest"},"\uae4c\ub9c8\uadc0":{habitat:"\ud558\ub298",habitatClass:"habitat-sky"},"\uc545\uc5b4\uc0c8":{habitat:"\uac15",habitatClass:"habitat-river"},"\uc0ac\uc2b4":{habitat:"\uc232",habitatClass:"habitat-forest"},"\uc218\ub2ec":{habitat:"\uac15",habitatClass:"habitat-river"},"\uccad\ub465\uc624\ub9ac":{habitat:"\uac15",habitatClass:"habitat-river"},"\ud1a0\ub07c":{habitat:"\ub4e4",habitatClass:"habitat-field"},"\uc950":{habitat:"\uc232",habitatClass:"habitat-forest"}},jc={"\uc0ac\uc790":"\uc0ac\uc2b4, \uc218\ub2ec, \uccad\ub465\uc624\ub9ac, \ud1a0\ub07c \uc911 \uc0b4\uc544\ub0a8\uc740 \ub3d9\ubb3c","\uc545\uc5b4":"\uc218\ub2ec, \uccad\ub465\uc624\ub9ac, \ud1a0\ub07c, \uc950 \uc911 \uc0b4\uc544\ub0a8\uc740 \ub3d9\ubb3c","\ub3c5\uc218\ub9ac":"\uccad\ub465\uc624\ub9ac, \ud1a0\ub07c, \uc950 \uc911 \uc0b4\uc544\ub0a8\uc740 \ub3d9\ubb3c","\ud558\uc774\uc5d0\ub098":"\ud1a0\ub07c, \uc950 \uc911 \uc0b4\uc544\ub0a8\uc740 \ub3d9\ubb3c","\ubc40":"\uc950","\uce74\uba5c\ub808\uc628":"\uc5c6\uc74c","\uae4c\ub9c8\uadc0":"\uc5c6\uc74c","\uc545\uc5b4\uc0c8":"\uc5c6\uc74c","\uc0ac\uc2b4":"\uc5c6\uc74c","\uc218\ub2ec":"\uc5c6\uc74c","\uccad\ub465\uc624\ub9ac":"\uc5c6\uc74c","\ud1a0\ub07c":"\uc5c6\uc74c","\uc950":"\uc5c6\uc74c"},Oc={"\uc0ac\uc790":"\ud55c \ub77c\uc6b4\ub4dc\ub9cc \uad76\uc5b4\ub3c4 \uc0ac\ub9dd","\uc545\uc5b4":"\ub450 \ub77c\uc6b4\ub4dc \uad76\uc744 \uc2dc \uc0ac\ub9dd","\ub3c5\uc218\ub9ac":"\uc138 \ub77c\uc6b4\ub4dc \uad76\uc744 \uc2dc \uc0ac\ub9dd","\ud558\uc774\uc5d0\ub098":"\uc0ac\uc790\uc758 \uc0ac\ub9dd","\ubc40":"\uc0ac\uc790\uc758 \uc0dd\uc874","\uce74\uba5c\ub808\uc628":"\ub2e4\ub978 \ub3d9\ubb3c\ub85c \uc704\uc7a5\ud560 \uc218 \uc788\uc74c","\uae4c\ub9c8\uadc0":"\uc9c0\ubaa9\ud55c \uc778\ubb3c\uc758 \uc2b9\ub9ac","\uc545\uc5b4\uc0c8":"\uc5ff\ubcf4\uae30 \ub54c 2\uba85\uc744 \uc5ff\ubcfc \uc218 \uc788\uc74c","\uc0ac\uc2b4":"\uc790\uc2e0\uc744 \uacf5\uaca9\ud55c \ub3d9\ubb3c\uc774 \uc5ed\uc73c\ub85c \uc0ac\ub9dd","\uc218\ub2ec":"\uc774 \uc911 \uc0dd\uc874\ud55c \ubaa8\ub4e0 \ub3d9\ubb3c\uc774 \ud55c \uad70\ub370\uc5d0 \ubaa8\uc77c \uc2dc \uc8fd\uc9c0 \uc54a\uc74c","\uccad\ub465\uc624\ub9ac":"\uc0dd\uc874","\ud1a0\ub07c":"\uc0dd\uc874","\uc950":"\uc0dd\uc874"},Dc=s.memo((e=>{let{animalData:t,animal:n,location:r}=e;return n&&t?(0,we.jsxs)(we.Fragment,{children:[(0,we.jsxs)("div",{className:"animal-info-section",children:[(0,we.jsxs)("div",{className:"animal-header",children:[(0,we.jsx)("div",{className:`animal-icon ${t.tierClass}`}),(0,we.jsx)("h4",{className:"animal-name",children:n})]}),(0,we.jsxs)("div",{className:"info-row",children:[(0,we.jsx)("span",{className:"info-label",children:"\uacc4\uce35:"}),(0,we.jsx)("span",{className:`info-value tier ${t.tierClass}`,children:t.tier})]}),(0,we.jsxs)("div",{className:"info-row",children:[(0,we.jsx)("span",{className:"info-label",children:"\uc11c\uc2dd\uc9c0:"}),(0,we.jsx)("span",{className:`info-value habitat ${t.habitatClass}`,children:t.habitat})]}),(0,we.jsxs)("div",{className:"info-row",children:[(0,we.jsx)("span",{className:"info-label",children:"\ud604\uc7ac \uc9c0\uc5ed:"}),(0,we.jsx)("span",{className:"info-value location-badge",children:r||"\uc5c6\uc74c"})]})]}),(0,we.jsx)("div",{className:"divider"}),(0,we.jsxs)("div",{className:"strategy-info-section",children:[(0,we.jsx)("h4",{className:"section-title",children:"\uc804\ub7b5 \uc815\ubcf4"}),(0,we.jsxs)("div",{className:"info-row",children:[(0,we.jsx)("span",{className:"info-label",children:"\uc2b9\ub9ac \uc870\uac74:"}),(0,we.jsx)("span",{className:"info-value",children:t.winCondition})]}),(0,we.jsxs)("div",{className:"info-row",children:[(0,we.jsx)("span",{className:"info-label",children:"\uba39\uc774:"}),(0,we.jsx)("span",{className:"info-value",children:t.prey})]})]})]}):null})),Lc=s.memo((e=>{let{player:t,currentRound:n}=e;const r=(0,s.useMemo)((()=>t.animal?(e=>{var t,n,r,i;return e?{tier:(null===(t=Pc[e])||void 0===t?void 0:t.tier)||"\uc54c \uc218 \uc5c6\uc74c",tierClass:(null===(n=Pc[e])||void 0===n?void 0:n.tierClass)||"",habitat:(null===(r=Rc[e])||void 0===r?void 0:r.habitat)||"\uc54c \uc218 \uc5c6\uc74c",habitatClass:(null===(i=Rc[e])||void 0===i?void 0:i.habitatClass)||"",prey:jc[e]||"\uc54c \uc218 \uc5c6\uc74c",winCondition:Oc[e]||"\uc54c \uc218 \uc5c6\uc74c"}:null})(t.animal):null),[t.animal]);return(0,we.jsxs)("div",{className:"player-info-card",children:[(0,we.jsx)("div",{className:"player-info-header",children:(0,we.jsx)("h3",{children:"\ub0b4 \uc815\ubcf4"})}),(0,we.jsxs)("div",{className:"player-info-content",children:[(0,we.jsxs)("div",{className:"info-row",children:[(0,we.jsx)("span",{className:"info-label",children:"\uc774\ub984:"}),(0,we.jsx)("span",{className:"info-value",children:t.name})]}),(0,we.jsxs)("div",{className:"info-row",children:[(0,we.jsx)("span",{className:"info-label",children:"\ud604\uc7ac \ub77c\uc6b4\ub4dc:"}),(0,we.jsxs)("span",{className:"info-value",children:[n,"/4"]})]}),(0,we.jsx)(Dc,{animalData:r,animal:t.animal,location:t.location})]})]})}),((e,t)=>e.player.name===t.player.name&&e.player.animal===t.player.animal&&e.player.location===t.player.location&&e.currentRound===t.currentRound&&JSON.stringify(e.player)===JSON.stringify(t.player)));const Ac=class{constructor(e){e?(this.socket=e,console.log("\uae30\uc874 \uc18c\ucf13 \uc5f0\uacb0 \uc0ac\uc6a9")):(this.socket=Sc("https://muksa.onrender.com",{transports:["websocket","polling"],withCredentials:!0,autoConnect:!0,reconnectionAttempts:5,reconnectionDelay:1e3,timeout:2e4}),console.log("\uc0c8 \uc18c\ucf13 \uc5f0\uacb0 \uc0dd\uc131")),this.eventHandlers=new Map,this.socket.on("connect",(()=>{console.log("[\uc18c\ucf13 \uc5f0\uacb0 \uc131\uacf5] ID:",this.socket.id)})),this.socket.on("connect_error",(e=>{console.error("[\uc18c\ucf13 \uc5f0\uacb0 \uc624\ub958]",e)})),this.socket.on("disconnect",(e=>{console.log("[\uc18c\ucf13 \uc5f0\uacb0 \ub04a\uae40]",e)}))}enterLobby(e,t){console.log("[\ub85c\ube44 \uc785\uc7a5 \uc694\uccad]",e),this.socket.emit("enterLobby",{playerName:e}),this.registerHandler("gamesList",t)}createGame(e,t){console.log("[\uac8c\uc784 \uc0dd\uc131 \uc694\uccad]",e),this.socket.emit("createGame",{gameName:e}),this.registerHandler("gameCreated",t)}joinGame(e,t,n){console.log("[\uac8c\uc784 \ucc38\uac00 \uc694\uccad]",e,t),this.socket.emit("joinGame",{gameId:e,playerName:t}),this.registerHandler("gameJoined",n)}toggleReady(e){console.log("[\uc900\ube44 \uc0c1\ud0dc \ud1a0\uae00]"),this.socket.emit("toggleReady"),e&&this.registerHandler("readyToggled",e)}startGame(e,t){console.log("[\uac8c\uc784 \uc2dc\uc791 \uc694\uccad]",e),this.socket.emit("startGame",{gameId:e}),this.registerHandler("gameStarted",t)}submitAction(e,t){console.log("[\ud589\ub3d9 \uc81c\ucd9c]",e),this.socket.emit("submitAction",e),this.registerHandler("actionConfirmed",t)}sendMessage(e,t){return console.log("[\uba54\uc2dc\uc9c0 \uc804\uc1a1]",e,t),this.socket.connected?(this.socket.emit("sendMessage",{gameId:e,content:t}),!0):(console.error("[\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc2e4\ud328] \uc18c\ucf13 \uc5f0\uacb0\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"),!1)}leaveGame(e){console.log("[\uac8c\uc784 \ub098\uac00\uae30 \uc694\uccad]"),this.socket.emit("leaveGame"),e&&this.registerHandler("leftGame",e)}registerHandler(e,t){console.log("[\uc774\ubca4\ud2b8 \ub4f1\ub85d]",e),this.eventHandlers.has(e)&&this.socket.off(e,this.eventHandlers.get(e)),this.eventHandlers.set(e,t),this.socket.on(e,t)}removeHandler(e){console.log("[\uc774\ubca4\ud2b8 \ud578\ub4e4\ub7ec \uc81c\uac70]",e),this.eventHandlers.has(e)&&(this.socket.off(e,this.eventHandlers.get(e)),this.eventHandlers.delete(e))}removeAllHandlers(){console.log("[\ubaa8\ub4e0 \uc774\ubca4\ud2b8 \ud578\ub4e4\ub7ec \uc81c\uac70]"),this.eventHandlers.forEach(((e,t)=>{this.socket.off(t,e)})),this.eventHandlers.clear()}isConnected(){return this.socket&&this.socket.connected}getSocketId(){return this.socket?this.socket.id:null}disconnect(){this.socket&&(console.log("[\uc18c\ucf13 \uc5f0\uacb0 \ud574\uc81c]"),this.socket.disconnect())}reconnect(){this.socket&&(console.log("[\uc18c\ucf13 \uc7ac\uc5f0\uacb0 \uc2dc\ub3c4]"),this.socket.connect())}},Mc=e=>{var t;let{messages:n,onSendMessage:r}=e;const[i,o]=(0,s.useState)(""),a=(0,s.useRef)(null),l=(0,s.useRef)(null),{socket:c}=(0,s.useContext)(Tc),[u,h]=(0,s.useState)(null),{gameId:d}=ne(),f=(0,s.useMemo)((()=>n.length>50?n.slice(n.length-50):n),[n]),p=(0,s.useMemo)((()=>n.length<=50?null:n.length-50+"\uac1c\uc758 \uc774\uc804 \uba54\uc2dc\uc9c0\uac00 \uc228\uaca8\uc838 \uc788\uc2b5\ub2c8\ub2e4."),[n]);(0,s.useEffect)((()=>{if(c){console.log("[GameChat] \uc18c\ucf13 \uc11c\ube44\uc2a4 \ucd08\uae30\ud654");const e=new Ac(c);h(e);const t=e=>{console.log("[GameChat] \uc0c8 \uba54\uc2dc\uc9c0 \uc218\uc2e0:",e),"function"===typeof r&&r(e.content,e)};return e.registerHandler("newMessage",t),e.registerHandler("game_message",t),()=>{console.log("[GameChat] \uc774\ubca4\ud2b8 \ub9ac\uc2a4\ub108 \uc815\ub9ac"),e.removeHandler("newMessage"),e.removeHandler("game_message")}}}),[c]);(0,s.useEffect)((()=>{var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[f]);(0,s.useEffect)((()=>{const e=()=>{},t=l.current;if(t)return t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}),[]);const m=null!==(t=null===u||void 0===u?void 0:u.isConnected())&&void 0!==t&&t;return(0,we.jsxs)("div",{className:"game-chat",children:[(0,we.jsxs)("div",{className:"chat-header",children:[(0,we.jsxs)("h3",{children:["\ucc44\ud305 ",m?"(\uc5f0\uacb0\ub428)":"(\uc5f0\uacb0 \ub04a\uae40)"]}),(0,we.jsx)("button",{className:"scroll-bottom-button",onClick:()=>{var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},title:"\uc2a4\ud06c\ub864 \uc544\ub798\ub85c",children:"\u2193"})]}),(0,we.jsxs)("div",{className:"chat-messages",ref:l,children:[p&&(0,we.jsx)("div",{className:"message-count-info",children:p}),0===f.length?(0,we.jsx)("div",{className:"no-messages",children:"\uc544\uc9c1 \uba54\uc2dc\uc9c0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}):f.map((e=>(0,we.jsxs)("div",{className:"chat-message "+(e.isSystem?"system-message":""),children:[(0,we.jsxs)("div",{className:"message-header",children:[(0,we.jsx)("span",{className:"message-sender",children:e.sender||"\uc54c \uc218 \uc5c6\uc74c"}),(0,we.jsx)("span",{className:"message-time",children:e.timestamp?new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,we.jsx)("div",{className:"message-content",children:e.content})]},e.id||`msg-${Date.now()}-${Math.random()}`))),(0,we.jsx)("div",{ref:a})]}),(0,we.jsxs)("form",{className:"chat-input-form",onSubmit:e=>{if(e.preventDefault(),i.trim()){if(console.log("[GameChat] \uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc2dc\ub3c4:",i,d),u&&d)try{const e=u.sendMessage(d,i);console.log("[GameChat] \uba54\uc2dc\uc9c0 \uc804\uc1a1 \uacb0\uacfc:",e),e||(console.error("[GameChat] \uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc2e4\ud328: \uc11c\ubc84 \uc5f0\uacb0 \uc5c6\uc74c"),"function"===typeof r&&r("\uc11c\ubc84 \uc5f0\uacb0\uc774 \ub04a\uc5b4\uc838 \uba54\uc2dc\uc9c0\ub97c \ubcf4\ub0bc \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ud398\uc774\uc9c0\ub97c \uc0c8\ub85c\uace0\uce68\ud574 \ubcf4\uc138\uc694.",{id:Date.now().toString(),sender:"System",content:"\uc11c\ubc84 \uc5f0\uacb0\uc774 \ub04a\uc5b4\uc838 \uba54\uc2dc\uc9c0\ub97c \ubcf4\ub0bc \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ud398\uc774\uc9c0\ub97c \uc0c8\ub85c\uace0\uce68\ud574 \ubcf4\uc138\uc694.",timestamp:(new Date).toISOString(),isSystem:!0}))}catch(Yn){console.error("[GameChat] \uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc911 \uc624\ub958:",Yn)}else console.log("[GameChat] \ub85c\uceec\ub85c \uba54\uc2dc\uc9c0 \ucc98\ub9ac");"function"===typeof r&&r(i),o("")}},children:[(0,we.jsx)("input",{type:"text",value:i,onChange:e=>{o(e.target.value)},placeholder:m?"\uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694...":"\uc5f0\uacb0 \uc911...",className:"chat-input",disabled:!m}),(0,we.jsx)("button",{type:"submit",className:"chat-send-button",disabled:!m,children:"\uc804\uc1a1"})]})]})},Fc="animal_selection",zc="peeking",Uc="pre_move_gathering",Bc="movement",qc="discussion",Hc=(0,s.memo)((e=>{let{currentRound:t,currentPhase:n,selectedLocation:r,selectedAction:i,targetPlayer:s,onActionSelect:o,onLocationSelect:a,onTargetSelect:l,onSubmitTurn:c,gameStatus:u,onLeaveGame:h,peekCount:d=0,maxPeekCount:f=1,players:p=[],locations:m=["\uac15","\ud558\ub298","\ub4e4","\uc232"],playerInfo:g={}}=e;return(0,we.jsxs)("div",{className:"action-selection-container",children:[(0,we.jsx)("h3",{className:"action-selection-header",children:"\ud589\ub3d9\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."}),(0,we.jsx)("div",{className:"phase-help",children:(0,we.jsx)("p",{children:(()=>{switch(n){case Fc:return"\uc790\uc2e0\uc758 \ub3d9\ubb3c\uc744 \ud655\uc778\ud558\uace0 \uc900\ube44\ub418\uba74 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc138\uc694.";case zc:return"\ub2e4\ub978 \ud50c\ub808\uc774\uc5b4\uc758 \ub3d9\ubb3c\uc744 \uc5ff\ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \ub2e8\uacc4\uac00 \uc9c0\ub098\uba74 \uc5ff\ubcf4\uae30\ub97c \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.";case Uc:return"\uccab \uc774\ub3d9 \uc804\uc5d0 \ubaa8\ub4e0 \ud50c\ub808\uc774\uc5b4\uc640 \ucc44\ud305\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.";case Bc:return"\uc6d0\ud558\ub294 \uc9c0\uc5ed\uc73c\ub85c \uc774\ub3d9\ud558\uc138\uc694. \uc11c\uc2dd\uc9c0\ub97c \ud55c \ubc88 \ub5a0\ub09c \ud6c4\uc5d0\ub294 \ubc18\ub4dc\uc2dc \uc11c\uc2dd\uc9c0\ub85c\ub9cc \uc774\ub3d9\ud574\uc57c \ud569\ub2c8\ub2e4.";case qc:return"\uac19\uc740 \uc9c0\uc5ed\uc5d0 \uc788\ub294 \ud50c\ub808\uc774\uc5b4\uc640 \ub300\ud654\ud558\uace0 \uacf5\uaca9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.";default:return""}})()})}),(0,we.jsxs)("div",{className:"round-info",children:[(0,we.jsxs)("p",{children:["\ub77c\uc6b4\ub4dc: ",t,"/4"]}),n&&(0,we.jsxs)("p",{className:"current-phase",children:["\ud604\uc7ac \ub2e8\uacc4: ",n===Fc?"\ub3d9\ubb3c \uc120\ud0dd":n===zc?"\uc5ff\ubcf4\uae30":n===Uc?"\uc774\ub3d9 \uc804 \ubaa8\uc784":n===Bc?"\uc774\ub3d9":n===qc?"\ud1a0\ub860":"\uc54c \uc218 \uc5c6\uc74c"]})]}),(0,we.jsxs)("div",{className:"action-options",children:[(0,we.jsxs)("div",{className:"action-option "+("move"===i?"selected":""),onClick:()=>n===Bc&&o("move"),children:[(0,we.jsx)("h4",{children:"\uc774\ub3d9"}),(0,we.jsx)("p",{children:"\ub2e4\ub978 \uc9c0\uc5ed\uc73c\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."}),n!==Bc&&(0,we.jsx)("small",{children:"\uc774\ub3d9\uc740 \uc774\ub3d9 \ub2e8\uacc4\uc5d0\uc11c\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4"})]}),(0,we.jsxs)("div",{className:"action-option "+("attack"===i?"selected":""),onClick:()=>n===qc&&o("attack"),children:[(0,we.jsx)("h4",{children:"\uacf5\uaca9"}),(0,we.jsx)("p",{children:"\ub2e4\ub978 \ub3d9\ubb3c\uc744 \uacf5\uaca9\ud569\ub2c8\ub2e4."}),n!==qc&&(0,we.jsx)("small",{children:"\uacf5\uaca9\uc740 \ud1a0\ub860 \ub2e8\uacc4\uc5d0\uc11c\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4"})]}),(0,we.jsxs)("div",{className:"action-option "+("peek"===i?"selected":""),onClick:()=>n===zc&&d<f&&o("peek"),children:[(0,we.jsx)("h4",{children:"\uc5ff\ubcf4\uae30"}),(0,we.jsx)("p",{children:"\ub2e4\ub978 \ud50c\ub808\uc774\uc5b4\uc758 \ub3d9\ubb3c\uc744 \ud655\uc778\ud569\ub2c8\ub2e4."}),(0,we.jsxs)("span",{className:"action-count",children:["(",f-d,"/",f,")"]}),n!==zc?(0,we.jsx)("small",{children:"\uc5ff\ubcf4\uae30\ub294 \uc5ff\ubcf4\uae30 \ub2e8\uacc4\uc5d0\uc11c\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4"}):d>=f?(0,we.jsx)("small",{children:"\uc5ff\ubcf4\uae30\ub97c \ubaa8\ub450 \uc0ac\uc6a9\ud588\uc2b5\ub2c8\ub2e4"}):null]})]}),(()=>{if(!i)return null;switch(i){case"move":return(0,we.jsxs)("div",{className:"selection-options",children:[(0,we.jsx)("h4",{children:"\uc774\ub3d9\ud560 \uc9c0\uc5ed \uc120\ud0dd"}),(0,we.jsx)("div",{className:"options-list",children:m.map(((e,t)=>{const n=g.leftHabitat&&e!==g.habitat;return(0,we.jsxs)("div",{className:`option-item ${r===e?"selected":""} ${n?"disabled":""}`,onClick:()=>!n&&a(e),children:[e,n&&(0,we.jsx)("small",{children:"(\uc11c\uc2dd\uc9c0\ub85c\ub9cc \uc774\ub3d9 \uac00\ub2a5)"})]},t)}))})]});case"peek":return(0,we.jsxs)("div",{className:"selection-options",children:[(0,we.jsx)("h4",{children:"\uc5ff\ubcfc \ud50c\ub808\uc774\uc5b4 \uc120\ud0dd"}),(0,we.jsx)("div",{className:"options-list",children:p.filter((e=>"1"!==e.id)).map(((e,t)=>(0,we.jsx)("div",{className:"option-item "+(s===e.name?"selected":""),onClick:()=>l(e),children:e.name},t)))})]});case"attack":return(0,we.jsxs)("div",{className:"selection-options",children:[(0,we.jsx)("h4",{children:"\uacf5\uaca9\ud560 \ud50c\ub808\uc774\uc5b4 \uc120\ud0dd"}),(0,we.jsx)("div",{className:"options-list",children:p.filter((e=>"1"!==e.id&&e.location===g.location)).map(((e,t)=>(0,we.jsx)("div",{className:"option-item "+(s===e.name?"selected":""),onClick:()=>l(e),children:e.name},t)))})]});default:return null}})(),(0,we.jsx)("button",{className:"submit-button",onClick:c,disabled:!("finished"!==u&&(n===Fc||n===Uc||(n===zc?"peek"===i&&s||!i:("move"!==i||r)&&("attack"!==i||s)&&i))),children:(()=>{switch(n){case Fc:return"\ub3d9\ubb3c \ud655\uc778 \uc644\ub8cc";case zc:return"peek"===i&&s?"\uc5ff\ubcf4\uae30 \uc2e4\ud589":"\uc5ff\ubcf4\uae30 \uc644\ub8cc";case Uc:return"\ubaa8\uc784 \uc885\ub8cc";case Bc:return"\uc774\ub3d9 \uc2e4\ud589";case qc:return"attack"===i?"\uacf5\uaca9 \uc2e4\ud589":"\ud134 \uc885\ub8cc";default:return"\ud134 \uc81c\ucd9c\ud558\uae30"}})()})]})})),$c="animal_selection",Wc="peeking",Vc="pre_move_gathering",Qc="movement",Kc="discussion",Gc={[$c]:30,[Wc]:30,[Vc]:60,[Qc]:30,[Kc]:120},Yc=(0,s.memo)((()=>(0,we.jsxs)("div",{className:"game-room-loading",children:[(0,we.jsx)("div",{className:"loading-spinner"}),(0,we.jsx)("p",{children:"\uac8c\uc784 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."})]}))),Xc=(0,s.memo)((e=>{let{players:t,isHost:n,onStartGame:r,onLeaveGame:i,messages:s,onSendMessage:o}=e;return(0,we.jsxs)("div",{className:"game-waiting",children:[(0,we.jsxs)("div",{className:"player-list card",children:[(0,we.jsx)("h2",{children:"\ucc38\uac00\uc790 \ubaa9\ub85d"}),(0,we.jsx)("ul",{children:t.map((e=>(0,we.jsxs)("li",{className:e.isHost?"host":"",children:[e.name," ",e.isHost&&"(\ubc29\uc7a5)",e.isReady&&(0,we.jsx)("span",{className:"ready-badge",children:"\uc900\ube44\uc644\ub8cc"})]},e.id)))})]}),(0,we.jsxs)("div",{className:"game-actions card",children:[n?(0,we.jsx)("button",{className:"primary start-button",onClick:r,disabled:t.length<3,children:"\uac8c\uc784 \uc2dc\uc791"}):(0,we.jsx)("button",{className:"primary ready-button",children:"\uc900\ube44\ud558\uae30"}),(0,we.jsx)("button",{className:"secondary",onClick:i,children:"\ub098\uac00\uae30"})]}),(0,we.jsxs)("div",{className:"game-chat-container card",children:[(0,we.jsx)("h2",{children:"\ucc44\ud305"}),(0,we.jsx)(Mc,{messages:s,onSendMessage:o})]})]})})),Jc=(0,s.memo)((e=>{let{currentRound:t,currentPhase:n,phaseTimeLeft:r,selectedLocation:i,onLocationSelect:s,players:o,selectedAction:a,targetPlayer:l,onTargetSelect:c,playerInfo:u,onActionSelect:h,onSubmitTurn:d,gameStatus:f,onLeaveGame:p,messages:m,onSendMessage:g,peekCount:y,maxPeekCount:v}=e;return(0,we.jsxs)("div",{className:"game-playing",children:[(0,we.jsx)("div",{className:"game-board-container",children:(0,we.jsx)(Ic,{currentRound:t,currentPhase:n,selectedLocation:i,onLocationSelect:s,players:o,selectedAction:a,targetPlayer:l,onTargetSelect:c})}),(0,we.jsxs)("div",{className:"game-info-container",children:[(0,we.jsxs)("div",{className:`phase-timer ${n?n.replace("_","-"):""}`,children:[(0,we.jsx)("h3",{children:Zc(n)}),(0,we.jsx)("div",{className:"timer-bar",children:(0,we.jsx)("div",{className:"timer-progress "+(r<10?"warning":""),style:{width:r/Gc[n]*100+"%"}})}),(0,we.jsx)("p",{className:"time-left",children:eu(r)}),(0,we.jsxs)("p",{className:"phase-description",children:[n===$c&&"30\ucd08 \ub3d9\uc548 \uc790\uc2e0\uc758 \ub3d9\ubb3c\uc744 \ud655\uc778\ud558\uc138\uc694.",n===Wc&&"\ub2e4\ub978 \ud50c\ub808\uc774\uc5b4\uc758 \ub3d9\ubb3c\uc744 \uc5ff\ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4.",n===Vc&&"\ubaa8\ub4e0 \ud50c\ub808\uc774\uc5b4\uc640 \ucc44\ud305\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",n===Qc&&"\uc6d0\ud558\ub294 \uc9c0\uc5ed\uc73c\ub85c \uc774\ub3d9\ud558\uc138\uc694.",n===Kc&&"\uac19\uc740 \uc9c0\uc5ed\uc5d0 \uc788\ub294 \ud50c\ub808\uc774\uc5b4\uc640 \ub300\ud654\ud558\uace0 \uacf5\uaca9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})]}),(0,we.jsx)("div",{className:"player-info-container",children:(0,we.jsx)(Lc,{player:u,currentRound:t})})]}),(0,we.jsxs)("div",{className:"game-controls-chat-container",children:[(0,we.jsx)("div",{className:"game-controls-wrapper",children:(0,we.jsx)(Hc,{currentRound:t,currentPhase:n,selectedLocation:i,selectedAction:a,targetPlayer:l,onActionSelect:h,onSubmitTurn:d,gameStatus:f,onLeaveGame:p,peekCount:y,maxPeekCount:v})}),(0,we.jsx)("div",{className:"game-chat-wrapper",children:(0,we.jsx)(Mc,{messages:m,onSendMessage:g})})]})]})})),Zc=e=>{switch(e){case $c:return"\ub3d9\ubb3c \uc120\ud0dd \ub2e8\uacc4";case Wc:return"\uc5ff\ubcf4\uae30 \ub2e8\uacc4";case Vc:return"\uc774\ub3d9 \uc804 \ubaa8\uc784 \ub2e8\uacc4";case Qc:return"\uc774\ub3d9 \ub2e8\uacc4";case Kc:return"\ud1a0\ub860 \ub2e8\uacc4";default:return"\uac8c\uc784 \uc9c4\ud589 \uc911"}},eu=e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`},tu=()=>{const{gameId:e}=ne(),t=te(),{gameState:n,setGameState:r}=(0,s.useContext)(be),{socket:i}=(0,s.useContext)(Tc),[o,a]=(0,s.useState)(null),[l,c]=(0,s.useState)(!0),[u,h]=(0,s.useState)(!1),[d,f]=(0,s.useState)([]),[p,m]=(0,s.useState)([]),[g,y]=(0,s.useState)(0),[v,_]=(0,s.useState)(null),[b,w]=(0,s.useState)(0),[k,C]=(0,s.useState)(null),[x,S]=(0,s.useState)(null),[E,N]=(0,s.useState)(null),[T,I]=(0,s.useState)(0),[P,R]=(0,s.useState)(1),[j,O]=(0,s.useState)(!1),D=(0,s.useMemo)((()=>({name:n.playerName,animal:n.animal,location:k,habitat:n.habitat||"\uc232",tier:n.tier||"Tier 5"})),[n.playerName,n.animal,n.habitat,n.tier,k]),L=(0,s.useCallback)((e=>{const t={id:Date.now().toString(),sender:"System",content:e,timestamp:(new Date).toISOString(),isSystem:!0};m((e=>[...e,t]))}),[]),A=(0,s.useCallback)((e=>{switch(console.log("\uac8c\uc784 \ub2e8\uacc4 \ubcc0\uacbd:",e),F.current=!1,_(e),w(Gc[e]),e){case $c:L("\ub3d9\ubb3c \uc120\ud0dd \ub2e8\uacc4\uac00 \uc2dc\uc791\ub418\uc5c8\uc2b5\ub2c8\ub2e4. 30\ucd08 \ub3d9\uc548 \uc790\uc2e0\uc758 \ub3d9\ubb3c\uc744 \ud655\uc778\ud558\uc138\uc694."),"\uae4c\ub9c8\uadc0"===n.animal?L("\ub2f9\uc2e0\uc740 \uae4c\ub9c8\uadc0\uc785\ub2c8\ub2e4. \ub204\uac00 \uc6b0\uc2b9\ud560\uc9c0 \uc608\uce21\ud558\uc138\uc694."):"\uce74\uba5c\ub808\uc628"===n.animal&&L("\ub2f9\uc2e0\uc740 \uce74\uba5c\ub808\uc628\uc785\ub2c8\ub2e4. \uc5b4\ub5a4 \ub3d9\ubb3c\ub85c \ubcc0\uc7a5\ud560\uc9c0 \uc120\ud0dd\ud558\uc138\uc694.");break;case Wc:L("\uc5ff\ubcf4\uae30 \ub2e8\uacc4\uac00 \uc2dc\uc791\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub2e4\ub978 \ud50c\ub808\uc774\uc5b4\uc758 \ub3d9\ubb3c\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),["\uae4c\ub9c8\uadc0","\uc545\uc5b4\uc0c8","\uc950"].includes(n.animal)?(R(2),L(`\ub2f9\uc2e0\uc740 ${n.animal}\uc785\ub2c8\ub2e4. 2\ubc88 \uc5ff\ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4.`)):R(1);break;case Vc:L("\uc774\ub3d9 \uc804 \ubaa8\uc784 \ub2e8\uacc4\uac00 \uc2dc\uc791\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ubaa8\ub4e0 \ud50c\ub808\uc774\uc5b4\uc640 \ucc44\ud305\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");break;case Qc:L("\uc774\ub3d9 \ub2e8\uacc4\uac00 \uc2dc\uc791\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc6d0\ud558\ub294 \uc9c0\uc5ed\uc73c\ub85c \uc774\ub3d9\ud558\uc138\uc694.");break;case Kc:L("\ud1a0\ub860 \ub2e8\uacc4\uac00 \uc2dc\uc791\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uac19\uc740 \uc9c0\uc5ed\uc5d0 \uc788\ub294 \ud50c\ub808\uc774\uc5b4\uc640 \ub300\ud654\ud558\uace0 \uacf5\uaca9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")}}),[L,n.animal]),M=(0,s.useRef)(null),F=(0,s.useRef)(!1);(0,s.useEffect)((()=>{if(!v||!u)return void console.log("\ud0c0\uc774\uba38 \uc870\uac74 \ubd88\ucda9\uc871: \uac8c\uc784 \uc2dc\uc791 =",u,"\ud604\uc7ac \ub2e8\uacc4 =",v);console.log("\ud0c0\uc774\uba38 \uc124\uc815: \ub2e8\uacc4 =",v,"\uc2dc\uac04 =",Gc[v]),M.current&&(console.log("\uc774\uc804 \ud0c0\uc774\uba38 \uc815\ub9ac"),clearInterval(M.current),M.current=null),console.log("\ud0c0\uc774\uba38 \ucd08\uae30\ud654"),w(Gc[v]);const e=setInterval((()=>{w((t=>{const n=t-1;if(n<=0)switch(console.log("\ud0c0\uc774\uba38 \uc885\ub8cc, \ub2e4\uc74c \ub2e8\uacc4\ub85c \uc9c4\ud589"),clearInterval(e),v){case $c:return A(Wc),Gc[Wc];case Wc:return A(Vc),Gc[Vc];case Vc:return A(Qc),Gc[Qc];case Qc:return A(Kc),Gc[Kc];case Kc:if(g<4)return y((e=>e+1)),A(Qc),Gc[Qc];{L("\uac8c\uc784\uc774 \uc885\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!");const e=d[Math.floor(Math.random()*d.length)];return L(`${e.name}(${e.animal})\uc774(\uac00) \uc2b9\ub9ac\ud588\uc2b5\ub2c8\ub2e4!`),r((e=>({...e,gameStatus:"finished"}))),0}default:return 0}return n}))}),1e3);return M.current=e,()=>{M.current&&(clearInterval(M.current),M.current=null)}}),[v,u,g,A,L,d]);const z=(0,s.useCallback)((()=>{const e=["\uc0ac\uc790","\uc545\uc5b4","\ub3c5\uc218\ub9ac","\ud558\uc774\uc5d0\ub098","\ubc40","\uce74\uba5c\ub808\uc628","\uae4c\ub9c8\uadc0","\uc545\uc5b4\uc0c8","\uc0ac\uc2b4","\uc218\ub2ec","\uccad\ub465\uc624\ub9ac","\ud1a0\ub07c","\uc950"],t=["\uac15","\ud558\ub298","\ub4e4","\uc232"],n=["Tier 1","Tier 2","Tier 3","Tier 4","Tier 5"],i=d.map((r=>({...r,animal:e[Math.floor(Math.random()*e.length)],habitat:t[Math.floor(Math.random()*t.length)],tier:n[Math.floor(Math.random()*n.length)]}))),s=i.find((e=>"1"===e.id));h(!0),y(1),f(i),r((e=>({...e,players:i,currentRound:1,gameStatus:"playing",animal:s.animal,habitat:s.habitat,tier:s.tier}))),L("\uac8c\uc784\uc774 \uc2dc\uc791\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),L(`\ub2f9\uc2e0\uc758 \ub3d9\ubb3c\uc740 ${s.animal}\uc785\ub2c8\ub2e4.`),L(`\ub2f9\uc2e0\uc758 \uc11c\uc2dd\uc9c0\ub294 ${s.habitat}\uc785\ub2c8\ub2e4.`),L(`\ub2f9\uc2e0\uc758 \uacc4\uce35\uc740 ${s.tier}\uc785\ub2c8\ub2e4.`),A($c)}),[L,d,r,A]),U=(0,s.useCallback)((e=>{j&&e!==D.habitat?L(`\uc11c\uc2dd\uc9c0\ub97c \ud55c \ubc88 \ub5a0\ub09c \ud6c4\uc5d0\ub294 \ubc18\ub4dc\uc2dc \uc11c\uc2dd\uc9c0(${D.habitat})\ub85c\ub9cc \uc774\ub3d9\ud574\uc57c \ud569\ub2c8\ub2e4.`):k!==e&&(C(e),e===D.habitat||j||(O(!0),L(`\uc11c\uc2dd\uc9c0(${D.habitat})\ub97c \ub5a0\ub0ac\uc2b5\ub2c8\ub2e4. \uc774\ud6c4\uc5d0\ub294 \ubc18\ub4dc\uc2dc \uc11c\uc2dd\uc9c0\ub85c\ub9cc \uc774\ub3d9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.`)),e===D.habitat&&j?L(`\uc11c\uc2dd\uc9c0(${D.habitat})\ub85c \ub3cc\uc544\uc654\uc2b5\ub2c8\ub2e4.`):L(`${e}(\uc73c)\ub85c \uc774\ub3d9\ud588\uc2b5\ub2c8\ub2e4.`),r((t=>({...t,location:e}))))}),[L,j,D.habitat,k,r]),B=(0,s.useCallback)((e=>{"peek"!==e||v===Wc?"peek"===e&&T>=P?L(`\uc5ff\ubcf4\uae30\ub97c \uc774\ubbf8 ${P}\ubc88 \uc0ac\uc6a9\ud588\uc2b5\ub2c8\ub2e4.`):"move"!==e||v===Qc?"attack"!==e||v===Kc?S((t=>t===e?t:("move"===e&&C(null),"attack"!==e&&"peek"!==e||N(null),e))):L("\uacf5\uaca9\uc740 \ud1a0\ub860 \ub2e8\uacc4\uc5d0\uc11c\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4."):L("\uc774\ub3d9\uc740 \uc774\ub3d9 \ub2e8\uacc4\uc5d0\uc11c\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4."):L("\uc5ff\ubcf4\uae30\ub294 \uc5ff\ubcf4\uae30 \ub2e8\uacc4\uc5d0\uc11c\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.")}),[L,v,T,P]),q=(0,s.useCallback)((e=>{e&&N((t=>t&&t.id===e.id?t:("peek"===x&&(I((e=>e+1)),L(`${e.name}\uc758 \ub3d9\ubb3c\uc740 ${e.animal}\uc785\ub2c8\ub2e4.`),L(`${e.name}\uc758 \uc11c\uc2dd\uc9c0\ub294 ${e.habitat}\uc785\ub2c8\ub2e4.`)),e)))}),[x,L]),H=(0,s.useCallback)((()=>{if(x)if("move"!==x||k)if("attack"!==x&&"peek"!==x||E){switch(x){case"move":L(`${k}(\uc73c)\ub85c \uc774\ub3d9\ud588\uc2b5\ub2c8\ub2e4.`);break;case"attack":Math.random()>.3?(L(`${E.name}\uc744(\ub97c) \uacf5\uaca9\ud588\uc2b5\ub2c8\ub2e4!`),"\uc0ac\uc2b4"===E.animal?L(`${E.name}\uc740(\ub294) \uc0ac\uc2b4\uc785\ub2c8\ub2e4! \uacf5\uaca9\uc774 \uc2e4\ud328\ud558\uace0 \ub2f9\uc2e0\uc774 \ud53c\ud574\ub97c \uc785\uc5c8\uc2b5\ub2c8\ub2e4.`):L(`${E.name}\uc5d0\uac8c \ud53c\ud574\ub97c \uc785\ud614\uc2b5\ub2c8\ub2e4.`)):L(`${E.name}\uc744(\ub97c) \uacf5\uaca9\ud588\uc9c0\ub9cc \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.`)}S(null),N(null)}else L("\ub300\uc0c1 \ud50c\ub808\uc774\uc5b4\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");else L("\uc774\ub3d9\ud560 \uc704\uce58\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");else L("\uc561\uc158\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")}),[x,k,E,L]),$=(0,s.useCallback)((()=>{t("/lobby")}),[t]),W=(0,s.useCallback)(((t,r)=>{if(r)return void m((e=>e.some((e=>e.id===r.id))?e:[...e,r]));const i={id:Date.now().toString(),sender:n.playerName,content:t,timestamp:(new Date).toISOString()};if(m((e=>[...e,i])),o&&e)try{if(!o.sendMessage(e,t)){const e={id:Date.now().toString()+"-error",sender:"System",content:"\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc2e4\ud328: \uc11c\ubc84 \uc5f0\uacb0\uc774 \ub04a\uc5b4\uc84c\uc2b5\ub2c8\ub2e4.",timestamp:(new Date).toISOString(),isSystem:!0};m((t=>[...t,e]))}}catch(Yn){console.error("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc911 \uc624\ub958:",Yn)}}),[n.playerName,o,e]);return(0,s.useEffect)((()=>{const t=Ya($a(tl,`rooms/${e}/players`),(e=>{const t=e.val();if(t){const e=Object.entries(t).map((e=>{let[t,n]=e;return{id:t,...n}}));f(e)}else f([]);c(!1)}));return()=>t()}),[e]),(0,s.useEffect)((()=>{if(i){const t=new Ac(i);return a(t),console.log("[GameRoom] \uc18c\ucf13 \uc11c\ube44\uc2a4\uac00 \ucd08\uae30\ud654\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc18c\ucf13 ID:",i.id),i.on("reconnect",(()=>{console.log("[GameRoom] \uc18c\ucf13\uc774 \uc7ac\uc5f0\uacb0\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uac8c\uc784 \ubc29\uc5d0 \ub2e4\uc2dc \ucc38\uac00\ud569\ub2c8\ub2e4."),e&&n.playerName&&t.joinGame(e,n.playerName,(e=>{console.log("[GameRoom] \uac8c\uc784 \uc7ac\ucc38\uac00 \uc644\ub8cc:",e)}))})),()=>{console.log("[GameRoom] \uc18c\ucf13 \uc774\ubca4\ud2b8 \ub9ac\uc2a4\ub108\ub97c \uc81c\uac70\ud569\ub2c8\ub2e4."),i.off("reconnect"),t&&t.removeAllHandlers()}}}),[i,e,n.playerName]),(0,s.useEffect)((()=>{if(o&&e&&n.playerName)return console.log("[GameRoom] \uac8c\uc784 \ucc38\uac00 \uc694\uccad:",e,n.playerName),o.registerHandler("game_updated",(e=>{console.log("[GameRoom] \uac8c\uc784 \uc5c5\ub370\uc774\ud2b8 \uc218\uc2e0:",e),void 0!==e.started&&h(e.started),e.currentRound&&y(e.currentRound),e.currentPhase&&A(e.currentPhase),e.players&&f(e.players),e.started&&!u&&L("\uac8c\uc784\uc774 \uc2dc\uc791\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")})),o.registerHandler("player_game_info",(e=>{console.log("[GameRoom] \ud50c\ub808\uc774\uc5b4 \uc815\ubcf4 \uc218\uc2e0:",e),r((t=>({...t,animal:e.animal||t.animal,habitat:e.habitat||t.habitat,tier:e.tier||t.tier}))),L(`\ub2f9\uc2e0\uc758 \ub3d9\ubb3c\uc740 ${e.animal||n.animal}\uc785\ub2c8\ub2e4.`),L(`\ub2f9\uc2e0\uc758 \uc11c\uc2dd\uc9c0\ub294 ${e.habitat||n.habitat}\uc785\ub2c8\ub2e4.`)})),o.registerHandler("game_message",(e=>{console.log("[GameRoom] \ucc44\ud305 \uba54\uc2dc\uc9c0 \uc218\uc2e0:",e);const t={id:e.id||Date.now().toString()+Math.random().toString(36).substr(2,9),sender:e.sender,content:e.content,timestamp:e.timestamp||(new Date).toISOString(),isSystem:e.isSystem||!1};m((e=>e.some((e=>e.id===t.id))?e:[...e,t]))})),o.registerHandler("newMessage",(e=>{console.log("[GameRoom] \uc0c8 \uba54\uc2dc\uc9c0 \uc218\uc2e0(newMessage):",e);const t={id:e.id||Date.now().toString()+Math.random().toString(36).substr(2,9),sender:e.sender,content:e.content,timestamp:e.timestamp||(new Date).toISOString(),isSystem:e.isSystem||!1};m((e=>e.some((e=>e.id===t.id))?e:[...e,t]))})),o.registerHandler("game_action_result",(e=>{console.log("[GameRoom] \uc561\uc158 \uacb0\uacfc \uc218\uc2e0:",e),"move"===e.type?(L(`${e.playerName||"\ub2f9\uc2e0"}\uc774(\uac00) ${e.location}(\uc73c)\ub85c \uc774\ub3d9\ud588\uc2b5\ub2c8\ub2e4.`),e.playerName&&e.playerName!==n.playerName||C(e.location)):"attack"===e.type?e.success?L(`${e.playerName||"\ub2f9\uc2e0"}\uc774(\uac00) ${e.targetName}\uc744(\ub97c) \uacf5\uaca9\ud588\uc2b5\ub2c8\ub2e4!`):L(`${e.playerName||"\ub2f9\uc2e0"}\uc758 ${e.targetName}\uc5d0 \ub300\ud55c \uacf5\uaca9\uc774 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.`):"peek"===e.type&&e.animalInfo&&(L(`${e.targetName}\uc758 \ub3d9\ubb3c\uc740 ${e.animalInfo.animal}\uc785\ub2c8\ub2e4.`),L(`${e.targetName}\uc758 \uc11c\uc2dd\uc9c0\ub294 ${e.animalInfo.habitat}\uc785\ub2c8\ub2e4.`))})),o.registerHandler("game_over",(e=>{console.log("[GameRoom] \uac8c\uc784 \uc885\ub8cc:",e),L("\uac8c\uc784\uc774 \uc885\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),e.winner&&L(`${e.winner.name}(${e.winner.animal})\uc774(\uac00) \uc2b9\ub9ac\ud588\uc2b5\ub2c8\ub2e4!`),r((e=>({...e,gameStatus:"finished"})))})),o.registerHandler("playerJoined",(e=>{console.log("[GameRoom] \ud50c\ub808\uc774\uc5b4 \ucc38\uac00:",e),L(`${e.name}\ub2d8\uc774 \uac8c\uc784\uc5d0 \ucc38\uac00\ud588\uc2b5\ub2c8\ub2e4.`),f((t=>[...t.filter((t=>t.id!==e.id)),e]))})),o.registerHandler("playerLeft",(e=>{console.log("[GameRoom] \ud50c\ub808\uc774\uc5b4 \ud1f4\uc7a5:",e),L(`${e.name||"\ud50c\ub808\uc774\uc5b4"}\ub2d8\uc774 \uac8c\uc784\uc5d0\uc11c \ub098\uac14\uc2b5\ub2c8\ub2e4.`),f((t=>t.filter((t=>t.id!==e.id))))})),o.joinGame(e,n.playerName,(e=>{if(console.log("[GameRoom] \uac8c\uc784 \ucc38\uac00 \uc644\ub8cc:",e),L(`${n.playerName}\ub2d8\uc774 \uac8c\uc784\uc5d0 \ucc38\uac00\ud588\uc2b5\ub2c8\ub2e4.`),e.started&&(h(!0),y(e.currentRound||1),_(e.currentPhase||$c),e.players)){f(e.players);const t=e.players.find((e=>e.id===i.id||e.name===n.playerName));t&&(r((e=>({...e,animal:t.animal||e.animal,habitat:t.habitat||e.habitat,tier:t.tier||e.tier,location:t.location||e.location}))),C(t.location||null))}})),()=>{console.log("[GameRoom] \uac8c\uc784\ubc29 \uc774\ubca4\ud2b8 \ub9ac\uc2a4\ub108 \uc815\ub9ac"),o&&(o.removeHandler("game_updated"),o.removeHandler("player_game_info"),o.removeHandler("game_message"),o.removeHandler("newMessage"),o.removeHandler("game_action_result"),o.removeHandler("game_over"),o.removeHandler("playerJoined"),o.removeHandler("playerLeft"),o.leaveGame())}}),[o,e,n.playerName,i,L,u,A,r]),l?(0,we.jsx)(Yc,{}):(0,we.jsxs)("div",{className:"game-room",children:[(0,we.jsxs)("h1",{className:"game-room-title",children:["\uac8c\uc784 \ubc29: ",e]}),u?(0,we.jsx)(Jc,{currentRound:g,currentPhase:v,phaseTimeLeft:b,selectedLocation:k,onLocationSelect:U,players:d,selectedAction:x,targetPlayer:E,onTargetSelect:q,playerInfo:D,onActionSelect:B,onSubmitTurn:H,gameStatus:n.gameStatus,onLeaveGame:$,messages:p,onSendMessage:W,peekCount:T,maxPeekCount:P}):(0,we.jsx)(Xc,{players:d,isHost:!0,onStartGame:z,onLeaveGame:$,messages:p,onSendMessage:W})]})},nu=()=>{const[e,t]=(0,s.useState)({isConnected:!1,playerId:null,playerName:"",gameId:null,players:[],currentRound:0,animal:null,location:null,gameStatus:"waiting",messages:[]});return(0,we.jsx)(Nc,{children:(0,we.jsx)(be.Provider,{value:{gameState:e,setGameState:t},children:(0,we.jsx)("div",{className:"app-container",children:(0,we.jsxs)(ve,{children:[(0,we.jsx)(ge,{path:"/",element:(0,we.jsx)(ke,{})}),(0,we.jsx)(ge,{path:"/lobby",element:(0,we.jsx)(rl,{})}),(0,we.jsx)(ge,{path:"/game/:gameId",element:(0,we.jsx)(tu,{})})]})})})})};var ru=n(950),iu=n.t(ru,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(uu){}new Map;const su=o.startTransition;iu.flushSync,o.useId;function ou(e){let{basename:t,children:n,future:r,window:i}=e,o=s.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=m(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:p(t))}),(function(e,t){h("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),a)));let l=o.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},y=s.useCallback((e=>{d&&su?su((()=>u(e))):u(e)}),[u,d]);return s.useLayoutEffect((()=>l.listen(y)),[l,y]),s.useEffect((()=>me(r)),[r]),s.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var au,lu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(au||(au={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(lu||(lu={}));a.createRoot(document.getElementById("root")).render((0,we.jsx)(s.StrictMode,{children:(0,we.jsx)(ou,{children:(0,we.jsx)(nu,{})})}))})();
//# sourceMappingURL=main.d81e95fd.js.map