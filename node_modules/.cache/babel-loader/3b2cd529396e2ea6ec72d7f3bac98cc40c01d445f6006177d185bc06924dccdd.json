{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\ssssss\\\\frontend\\\\src\\\\components\\\\GameChat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useMemo } from 'react';\nimport '../styles/GameChat.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GameChat = ({\n  messages,\n  onSendMessage\n}) => {\n  _s();\n  const [message, setMessage] = useState('');\n  const messagesEndRef = useRef(null);\n  const chatContainerRef = useRef(null);\n\n  // 메시지 수 제한 (최대 50개)\n  const MAX_MESSAGES = 50;\n\n  // 표시할 메시지 제한\n  const limitedMessages = useMemo(() => {\n    // 메시지가 MAX_MESSAGES를 초과하면 최신 메시지만 표시\n    return messages.length > MAX_MESSAGES ? messages.slice(messages.length - MAX_MESSAGES) : messages;\n  }, [messages]);\n\n  // 메시지 수 정보\n  const messageCountInfo = useMemo(() => {\n    if (messages.length <= MAX_MESSAGES) return null;\n    return `${messages.length - MAX_MESSAGES}개의 이전 메시지가 숨겨져 있습니다.`;\n  }, [messages]);\n  const handleMessageChange = e => {\n    setMessage(e.target.value);\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (message.trim()) {\n      onSendMessage(message);\n      setMessage('');\n    }\n  };\n\n  // 새 메시지가 추가될 때마다 스크롤을 아래로 이동\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [limitedMessages]);\n\n  // 수동 스크롤 함수\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre2;\n    (_messagesEndRef$curre2 = messagesEndRef.current) === null || _messagesEndRef$curre2 === void 0 ? void 0 : _messagesEndRef$curre2.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n\n  // 스크롤 이벤트 처리\n  useEffect(() => {\n    const handleScroll = () => {\n      // 스크롤 위치에 따른 추가 로직을 구현할 수 있음\n    };\n    const chatContainer = chatContainerRef.current;\n    if (chatContainer) {\n      chatContainer.addEventListener('scroll', handleScroll);\n      return () => chatContainer.removeEventListener('scroll', handleScroll);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-chat\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uCC44\\uD305\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"scroll-bottom-button\",\n        onClick: scrollToBottom,\n        title: \"\\uC2A4\\uD06C\\uB864 \\uC544\\uB798\\uB85C\",\n        children: \"\\u2193\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-messages\",\n      ref: chatContainerRef,\n      children: [messageCountInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-count-info\",\n        children: messageCountInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), limitedMessages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-messages\",\n        children: \"\\uC544\\uC9C1 \\uBA54\\uC2DC\\uC9C0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this) : limitedMessages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `chat-message ${msg.isSystem ? 'system-message' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"message-sender\",\n            children: msg.sender\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"message-time\",\n            children: new Date(msg.timestamp).toLocaleTimeString([], {\n              hour: '2-digit',\n              minute: '2-digit'\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: msg.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this)]\n      }, msg.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"chat-input-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: message,\n        onChange: handleMessageChange,\n        placeholder: \"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694...\",\n        className: \"chat-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"chat-send-button\",\n        children: \"\\uC804\\uC1A1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(GameChat, \"JTxMTLOqGJ9NlrbpWigTUgTAbeA=\");\n_c = GameChat;\nexport default GameChat;\nvar _c;\n$RefreshReg$(_c, \"GameChat\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useMemo","jsxDEV","_jsxDEV","GameChat","messages","onSendMessage","_s","message","setMessage","messagesEndRef","chatContainerRef","MAX_MESSAGES","limitedMessages","length","slice","messageCountInfo","handleMessageChange","e","target","value","handleSubmit","preventDefault","trim","_messagesEndRef$curre","current","scrollIntoView","behavior","scrollToBottom","_messagesEndRef$curre2","handleScroll","chatContainer","addEventListener","removeEventListener","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","ref","map","msg","isSystem","sender","Date","timestamp","toLocaleTimeString","hour","minute","content","id","onSubmit","type","onChange","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/USER/Desktop/ssssss/frontend/src/components/GameChat.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useMemo } from 'react';\nimport '../styles/GameChat.css';\n\nconst GameChat = ({ messages, onSendMessage }) => {\n  const [message, setMessage] = useState('');\n  const messagesEndRef = useRef(null);\n  const chatContainerRef = useRef(null);\n  \n  // 메시지 수 제한 (최대 50개)\n  const MAX_MESSAGES = 50;\n  \n  // 표시할 메시지 제한\n  const limitedMessages = useMemo(() => {\n    // 메시지가 MAX_MESSAGES를 초과하면 최신 메시지만 표시\n    return messages.length > MAX_MESSAGES \n      ? messages.slice(messages.length - MAX_MESSAGES) \n      : messages;\n  }, [messages]);\n  \n  // 메시지 수 정보\n  const messageCountInfo = useMemo(() => {\n    if (messages.length <= MAX_MESSAGES) return null;\n    return `${messages.length - MAX_MESSAGES}개의 이전 메시지가 숨겨져 있습니다.`;\n  }, [messages]);\n\n  const handleMessageChange = (e) => {\n    setMessage(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (message.trim()) {\n      onSendMessage(message);\n      setMessage('');\n    }\n  };\n\n  // 새 메시지가 추가될 때마다 스크롤을 아래로 이동\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [limitedMessages]);\n  \n  // 수동 스크롤 함수\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n  \n  // 스크롤 이벤트 처리\n  useEffect(() => {\n    const handleScroll = () => {\n      // 스크롤 위치에 따른 추가 로직을 구현할 수 있음\n    };\n    \n    const chatContainer = chatContainerRef.current;\n    if (chatContainer) {\n      chatContainer.addEventListener('scroll', handleScroll);\n      return () => chatContainer.removeEventListener('scroll', handleScroll);\n    }\n  }, []);\n\n  return (\n    <div className=\"game-chat\">\n      <div className=\"chat-header\">\n        <h3>채팅</h3>\n        <button \n          className=\"scroll-bottom-button\" \n          onClick={scrollToBottom}\n          title=\"스크롤 아래로\"\n        >\n          ↓\n        </button>\n      </div>\n      \n      <div className=\"chat-messages\" ref={chatContainerRef}>\n        {messageCountInfo && (\n          <div className=\"message-count-info\">\n            {messageCountInfo}\n          </div>\n        )}\n        \n        {limitedMessages.length === 0 ? (\n          <div className=\"no-messages\">아직 메시지가 없습니다.</div>\n        ) : (\n          limitedMessages.map(msg => (\n            <div \n              key={msg.id} \n              className={`chat-message ${msg.isSystem ? 'system-message' : ''}`}\n            >\n              <div className=\"message-header\">\n                <span className=\"message-sender\">{msg.sender}</span>\n                <span className=\"message-time\">\n                  {new Date(msg.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                </span>\n              </div>\n              <div className=\"message-content\">{msg.content}</div>\n            </div>\n          ))\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n      \n      <form className=\"chat-input-form\" onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={message}\n          onChange={handleMessageChange}\n          placeholder=\"메시지를 입력하세요...\"\n          className=\"chat-input\"\n        />\n        <button type=\"submit\" className=\"chat-send-button\">\n          전송\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default GameChat;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}